{"ast":null,"code":"var _jsxFileName = \"/home/neosoft/NeoStore/src/components/ProductDetails.js\";\nimport React from \"react\";\nimport Footer from \"./footer\";\nimport HomeNavBar from \"./navbar\";\nimport axios from 'axios';\nimport { Container, Row, Col, Button } from \"react-bootstrap\";\nimport StarRatingComponent from \"react-star-rating-component\";\nimport { getProductDetail } from \"../actions/ProductDetailsAction\";\nimport { connect } from \"react-redux\";\nimport \"../assets/css/productDetails.css\";\nimport { Tab, Tabs, TabList, TabPanel } from \"react-tabs\";\nimport \"react-tabs/style/react-tabs.css\";\nimport AddToCart from \"./AddToCart\";\nimport Loading from \"./Loading\";\nimport swal from \"sweetalert\";\nimport { withRouter } from \"react-router-dom\";\nimport Box from \"@material-ui/core/Box\";\nimport Rating from \"@material-ui/lab/Rating\";\nimport getProductRate from '../actions/rateProductAction';\nimport { BASE_URL } from \"../constants/BaseURL\"; // import AddToCart from '/'\n\nclass ProductDetails extends React.Component {\n  constructor() {\n    super();\n\n    this.rateProduct = () => {\n      const token = localStorage.getItem(\"token\"); //   console.log(\"token\");\n\n      if (token === null) {\n        // swal(\"Please Login\");\n        swal({\n          title: \"Please Login\",\n          text: \"You have to login first before rate the product\",\n          button: \"Ok\"\n        });\n        this.props.history.push(\"/signIn\");\n      } else {\n        let showDiv = this.state.showRateProductDiv;\n        this.setState({\n          showRateProductDiv: !showDiv\n        });\n      }\n    };\n\n    this.rateProductHandler = e => {\n      e.preventDefault();\n      console.log(\"e.target.value\", e.target.value);\n      const rateVate = parseInt(e.target.value);\n      this.setState({\n        rateProductValue: e.target.value,\n        disableSubmitRateProduct: false\n      });\n    };\n\n    this.submitRateHandler = async () => {\n      console.log(\"in done click function\");\n      const {\n        productDetails\n      } = this.props;\n      const data = {\n        product_id: productDetails.product_id,\n        product_rating: this.state.rateProductValue\n      };\n      const token = JSON.parse(localStorage.getItem(\"token\"));\n      const res = await axios.put(BASE_URL + \"updateProductRatingByCustomer\", data, {\n        headers: {\n          Authorization: \"Brearer \" + token\n        }\n      });\n      swal.fire({\n        icon: \"success\",\n        title: res.data.message,\n        showConfirmButton: false,\n        timer: 2000\n      });\n      this.setState({\n        showRateProductDiv: false\n      });\n    };\n\n    this.cancelRateProductHandler = () => {\n      this.setState({\n        showRateProductDiv: !this.state.showRateProductDiv\n      });\n    };\n\n    this.state = {\n      showImg: \"\",\n      checkLoader: false,\n      showRateProductDiv: false,\n      disableSubmitRateProduct: true,\n      rateProductValue: 0\n    };\n  }\n\n  changeImg(subimage) {\n    this.setState({\n      showImg: subimage\n    });\n  }\n\n  componentWillMount() {\n    this.setState({\n      checkLoader: true\n    }); // ////console.log(\"in componentwill mount---1111\",this.props.location.state.productId);\n\n    let productId = this.props.location.state.productId;\n    this.props.getProductDetail(productId).then(() => {\n      const {\n        productDetails\n      } = this.props;\n      let imgUrl = productDetails.product_image;\n      this.setState({\n        showImg: imgUrl,\n        checkLoader: false\n      }); // ////console.log(\"in componentwill mount---\",productDetails.product_name);\n    });\n  }\n\n  // submitRateHandler=()=>{\n  // console.log(\"in submit\");\n  // const { productDetails } = this.props;\n  // const rating=this.state.rateProductValue;\n  // // console.log(\"rating\",rating);\n  // const data={\n  //   product_rating: rating,\n  //   product_id:productDetails.product_id\n  // }\n  // // console.log(\"this.state.rateProductValue\",this.state.rateProductValue);\n  // this.props.getProductRate(data);\n  // }\n  render() {\n    if (this.state.checkLoader === true) {\n      return React.createElement(Loading, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121\n        },\n        __self: this\n      });\n    }\n\n    const {\n      productDetails\n    } = this.props;\n    let title;\n    let cost;\n    let productColor;\n    let imgUrl;\n    let subimages = [];\n    let productDescription;\n    let dimensions;\n    let material;\n    let Manufacturer; // console.log(\"productDetails===\",productDetails.product_id)\n\n    if (productDetails !== undefined) {\n      title = productDetails.product_name;\n      cost = productDetails.product_cost;\n      productColor = productDetails.color_id.color_code;\n      productDescription = productDetails.product_desc;\n      imgUrl = productDetails.product_image;\n      dimensions = productDetails.product_dimension;\n      material = productDetails.product_material;\n      Manufacturer = productDetails.product_producer;\n\n      for (let i = 0; i < productDetails.subImages_id.product_subImages.length; i++) {\n        subimages[i] = productDetails.subImages_id.product_subImages[i];\n      }\n    }\n\n    var color = {\n      backgroundColor: productColor\n    };\n    console.log(\"color in product detail page=\", productColor);\n    return React.createElement(\"div\", {\n      className: \"productDetail\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157\n      },\n      __self: this\n    }, React.createElement(HomeNavBar, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159\n      },\n      __self: this\n    }, React.createElement(Container, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160\n      },\n      __self: this\n    }, React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161\n      },\n      __self: this\n    }, React.createElement(Col, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162\n      },\n      __self: this\n    }, React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      className: \"productDetailImg\",\n      src: \"http://180.149.241.208:3022/\" + this.state.showImg,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164\n      },\n      __self: this\n    })), React.createElement(Row, {\n      className: \"subimagesWrapper\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169\n      },\n      __self: this\n    }, subimages.map((subimage, i) => {\n      return React.createElement(\"img\", {\n        className: \"productDetailSubImg\",\n        src: \"http://180.149.241.208:3022/\" + subimage,\n        onClick: ev => this.changeImg(subimage),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 172\n        },\n        __self: this\n      });\n    }))), React.createElement(Col, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"productDetailInfo\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183\n      },\n      __self: this\n    }, title), React.createElement(StarRatingComponent, {\n      name: \"rate2\",\n      editing: false,\n      renderStarIcon: () => React.createElement(\"span\", {\n        className: \"star\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 187\n        },\n        __self: this\n      }, \"\\u2605\"),\n      starCount: 5,\n      value: 2,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184\n      },\n      __self: this\n    }), React.createElement(\"hr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191\n      },\n      __self: this\n    }), React.createElement(\"h5\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192\n      },\n      __self: this\n    }, \"Price:\", React.createElement(\"span\", {\n      className: \"productDetailInfoPrice\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194\n      },\n      __self: this\n    }, \"\\u20B9\", cost)), React.createElement(\"h5\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 196\n      },\n      __self: this\n    }, \"color:\", React.createElement(\"span\", {\n      className: \"square\",\n      style: {\n        backgroundColor: `${productColor}`\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"productDetailInfoButtons\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 204\n      },\n      __self: this\n    }, React.createElement(AddToCart, {\n      color: \"blue\",\n      width: \"160px\",\n      height: \"40px\",\n      ProductData: this.props,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 205\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      className: \"productDetailInfoButton2\",\n      onClick: this.rateProduct,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 212\n      },\n      __self: this\n    }, \"RATE PRODUCT\"))), this.state.showRateProductDiv ? React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 221\n      },\n      __self: this\n    }, React.createElement(Box, {\n      component: \"fieldset\",\n      mb: 3,\n      borderColor: \"transparent\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 222\n      },\n      __self: this\n    }, React.createElement(\"h6\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 223\n      },\n      __self: this\n    }, \"Rate The Product\"), React.createElement(\"hr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 224\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 225\n      },\n      __self: this\n    }, \" \", React.createElement(Rating, {\n      name: \"rating\",\n      value: this.state.rateProductValue,\n      precision: 0.5,\n      onChange: this.rateProductHandler,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 227\n      },\n      __self: this\n    })), React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 234\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      disabled: this.state.disableSubmitRateProduct,\n      onClick: this.submitRateHandler,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 235\n      },\n      __self: this\n    }, \"Done\")), React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 240\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      onClick: this.cancelRateProductHandler,\n      style: {\n        marginLeft: \"3%\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 241\n      },\n      __self: this\n    }, \"Cancel\")))) : null)), React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 253\n      },\n      __self: this\n    }, React.createElement(Tabs, {\n      className: \"productDetailInfoTab\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 254\n      },\n      __self: this\n    }, React.createElement(TabList, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 255\n      },\n      __self: this\n    }, React.createElement(Tab, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 256\n      },\n      __self: this\n    }, \"Description\"), React.createElement(Tab, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 257\n      },\n      __self: this\n    }, \"Features\")), React.createElement(TabPanel, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 259\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 260\n      },\n      __self: this\n    }, productDescription)), React.createElement(TabPanel, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 262\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 263\n      },\n      __self: this\n    }, \"Dimensions : \", dimensions), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 264\n      },\n      __self: this\n    }, \"Marerial : \", material), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 265\n      },\n      __self: this\n    }, \"Manufacturer : \", Manufacturer)))))), React.createElement(\"hr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 271\n      },\n      __self: this\n    }), React.createElement(Footer, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 272\n      },\n      __self: this\n    }));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  // ////console.log(\"in mapstateToprops#####\",state.ProductDetailsReducer.productDetails)\n  return {\n    productDetails: state.ProductDetailsReducer.productDetails,\n    rateProduct: state.rateProductReducer\n  };\n};\n\nconst mapDispatchToProps = {\n  getProductDetail,\n  getProductRate\n};\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(ProductDetails));","map":{"version":3,"sources":["/home/neosoft/NeoStore/src/components/ProductDetails.js"],"names":["React","Footer","HomeNavBar","axios","Container","Row","Col","Button","StarRatingComponent","getProductDetail","connect","Tab","Tabs","TabList","TabPanel","AddToCart","Loading","swal","withRouter","Box","Rating","getProductRate","BASE_URL","ProductDetails","Component","constructor","rateProduct","token","localStorage","getItem","title","text","button","props","history","push","showDiv","state","showRateProductDiv","setState","rateProductHandler","e","preventDefault","console","log","target","value","rateVate","parseInt","rateProductValue","disableSubmitRateProduct","submitRateHandler","productDetails","data","product_id","product_rating","JSON","parse","res","put","headers","Authorization","fire","icon","message","showConfirmButton","timer","cancelRateProductHandler","showImg","checkLoader","changeImg","subimage","componentWillMount","productId","location","then","imgUrl","product_image","render","cost","productColor","subimages","productDescription","dimensions","material","Manufacturer","undefined","product_name","product_cost","color_id","color_code","product_desc","product_dimension","product_material","product_producer","i","subImages_id","product_subImages","length","color","backgroundColor","map","ev","marginLeft","mapStateToProps","ProductDetailsReducer","rateProductReducer","mapDispatchToProps"],"mappings":"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","sourcesContent":["import React from \"react\";\n\nimport Footer from \"./footer\";\nimport HomeNavBar from \"./navbar\";\nimport axios from 'axios'\n\nimport { Container, Row, Col, Button } from \"react-bootstrap\";\nimport StarRatingComponent from \"react-star-rating-component\";\nimport { getProductDetail } from \"../actions/ProductDetailsAction\";\nimport { connect } from \"react-redux\";\nimport \"../assets/css/productDetails.css\";\nimport { Tab, Tabs, TabList, TabPanel } from \"react-tabs\";\nimport \"react-tabs/style/react-tabs.css\";\nimport AddToCart from \"./AddToCart\";\nimport Loading from \"./Loading\";\nimport swal from \"sweetalert\";\nimport { withRouter } from \"react-router-dom\";\nimport Box from \"@material-ui/core/Box\";\nimport Rating from \"@material-ui/lab/Rating\";\nimport getProductRate from '../actions/rateProductAction'\nimport { BASE_URL } from \"../constants/BaseURL\";\n\n// import AddToCart from '/'\n\nclass ProductDetails extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      showImg: \"\",\n      checkLoader: false,\n      showRateProductDiv: false,\n      disableSubmitRateProduct: true,\n      rateProductValue: 0,\n    };\n  }\n  changeImg(subimage) {\n    this.setState({ showImg: subimage });\n  }\n  componentWillMount() {\n    this.setState({ checkLoader: true });\n\n    // ////console.log(\"in componentwill mount---1111\",this.props.location.state.productId);\n    let productId = this.props.location.state.productId;\n    this.props.getProductDetail(productId).then(() => {\n      const { productDetails } = this.props;\n      let imgUrl = productDetails.product_image;\n      this.setState({ showImg: imgUrl, checkLoader: false });\n\n      // ////console.log(\"in componentwill mount---\",productDetails.product_name);\n    });\n  }\n  rateProduct = () => {\n    const token = localStorage.getItem(\"token\");\n    //   console.log(\"token\");\n    if (token === null) {\n      // swal(\"Please Login\");\n      swal({\n        title: \"Please Login\",\n        text: \"You have to login first before rate the product\",\n\n        button: \"Ok\",\n      });\n      this.props.history.push(\"/signIn\");\n    } else {\n      let showDiv = this.state.showRateProductDiv;\n\n      this.setState({ showRateProductDiv: !showDiv });\n    }\n  };\n  rateProductHandler = (e) => {\n    e.preventDefault();\n    console.log(\"e.target.value\",e.target.value);\n    \n    const rateVate=parseInt(e.target.value)\n    this.setState({\n      rateProductValue: e.target.value,\n      disableSubmitRateProduct: false,\n    });\n  }\n  submitRateHandler = async () => {\n    console.log(\"in done click function\");\n    const { productDetails } = this.props;\n\n    const data = {\n      product_id: productDetails.product_id,\n      product_rating: this.state.rateProductValue,\n    };\n    const token=JSON.parse(localStorage.getItem(\"token\"));\n    \n    const res = await axios.put(BASE_URL + \"updateProductRatingByCustomer\", data, {\n      headers: { Authorization: \"Brearer \" + token },\n    });\n    swal.fire({\n      icon: \"success\",\n      title: res.data.message,\n      showConfirmButton: false,\n      timer: 2000,\n    });\n    this.setState({ showRateProductDiv: false });\n  };\n  cancelRateProductHandler=()=>{\n    this.setState({ showRateProductDiv: !this.state.showRateProductDiv });\n\n  }\n    // submitRateHandler=()=>{\n      // console.log(\"in submit\");\n      // const { productDetails } = this.props;\n      // const rating=this.state.rateProductValue;\n      // // console.log(\"rating\",rating);\n      \n      // const data={\n      //   product_rating: rating,\n      //   product_id:productDetails.product_id\n      // }\n      // // console.log(\"this.state.rateProductValue\",this.state.rateProductValue);\n\n      // this.props.getProductRate(data);\n    // }\n  render() {\n    if (this.state.checkLoader === true) {\n      return <Loading></Loading>;\n    }\n    const { productDetails } = this.props;\n    let title;\n    let cost;\n    let productColor;\n    let imgUrl;\n    let subimages = [];\n    let productDescription;\n    let dimensions;\n    let material;\n    let Manufacturer;\n    // console.log(\"productDetails===\",productDetails.product_id)\n    if (productDetails !== undefined) {\n      title = productDetails.product_name;\n      cost = productDetails.product_cost;\n      productColor = productDetails.color_id.color_code;\n      productDescription = productDetails.product_desc;\n      imgUrl = productDetails.product_image;\n      dimensions = productDetails.product_dimension;\n      material = productDetails.product_material;\n      Manufacturer = productDetails.product_producer;\n\n      for (\n        let i = 0;\n        i < productDetails.subImages_id.product_subImages.length;\n        i++\n      ) {\n        subimages[i] = productDetails.subImages_id.product_subImages[i];\n      }\n    }\n    var color = {\n      backgroundColor: productColor,\n    };\n    console.log(\"color in product detail page=\", productColor);\n    return (\n      <div className=\"productDetail\">\n        <HomeNavBar />\n        <div>\n          <Container>\n            <Row>\n              <Col>\n                <Row>\n                  <img\n                    className=\"productDetailImg\"\n                    src={\"http://180.149.241.208:3022/\" + this.state.showImg}\n                  />\n                </Row>\n                <Row className=\"subimagesWrapper\">\n                  {subimages.map((subimage, i) => {\n                    return (\n                      <img\n                        className=\"productDetailSubImg\"\n                        src={\"http://180.149.241.208:3022/\" + subimage}\n                        onClick={(ev) => this.changeImg(subimage)}\n                      />\n                    );\n                  })}\n                </Row>\n              </Col>\n              <Col>\n                <div className=\"productDetailInfo\">\n                  <h3>{title}</h3>\n                  <StarRatingComponent\n                    name=\"rate2\"\n                    editing={false}\n                    renderStarIcon={() => <span className=\"star\">★</span>}\n                    starCount={5}\n                    value={2}\n                  />\n                  <hr></hr>\n                  <h5>\n                    Price:\n                    <span className=\"productDetailInfoPrice\">₹{cost}</span>\n                  </h5>\n                  <h5>\n                    color:\n                    <span\n                      className=\"square\"\n                      style={{ backgroundColor: `${productColor}` }}\n                    ></span>\n                  </h5>\n\n                  <div className=\"productDetailInfoButtons\">\n                    <AddToCart\n                      color=\"blue\"\n                      width=\"160px\"\n                      height=\"40px\"\n                      ProductData={this.props}\n                    />\n                    {/* <button className=\"productDetailInfoButton1\">ADD TO CART</button> */}\n                    <button\n                      className=\"productDetailInfoButton2\"\n                      onClick={this.rateProduct}\n                    >\n                      RATE PRODUCT\n                    </button>\n                  </div>\n                </div>\n                {this.state.showRateProductDiv ? (\n                  <div>\n                    <Box component=\"fieldset\" mb={3} borderColor=\"transparent\">\n                      <h6>Rate The Product</h6>\n                      <hr></hr>\n                      <span>\n                        {\" \"}\n                        <Rating\n                          name=\"rating\"\n                          value={this.state.rateProductValue}\n                          precision={0.5}\n                          onChange={this.rateProductHandler}\n                        />\n                      </span>\n                      <span>\n                        <button\n                          disabled={this.state.disableSubmitRateProduct}\n                          onClick={this.submitRateHandler}\n                        >Done</button>\n                      </span>\n                      <span>\n                      <button\n                        onClick={this.cancelRateProductHandler}\n                        style={{ marginLeft: \"3%\" }}\n                      >\n                        Cancel\n                      </button>\n                    </span>\n                    </Box>\n                  </div>\n                ) : null}\n              </Col>\n            </Row>\n            <Row>\n              <Tabs className=\"productDetailInfoTab\">\n                <TabList>\n                  <Tab>Description</Tab>\n                  <Tab>Features</Tab>\n                </TabList>\n                <TabPanel>\n                  <p>{productDescription}</p>\n                </TabPanel>\n                <TabPanel>\n                  <p>Dimensions : {dimensions}</p>\n                  <p>Marerial : {material}</p>\n                  <p>Manufacturer : {Manufacturer}</p>\n                </TabPanel>\n              </Tabs>\n            </Row>\n          </Container>\n        </div>\n        <hr></hr>\n        <Footer />\n      </div>\n    );\n  }\n  }\nconst mapStateToProps = (state) => {\n  // ////console.log(\"in mapstateToprops#####\",state.ProductDetailsReducer.productDetails)\n  return {\n    productDetails: state.ProductDetailsReducer.productDetails,\n    rateProduct: state.rateProductReducer\n  };\n};\n\nconst mapDispatchToProps = {\n  getProductDetail,getProductRate\n};\nexport default withRouter(\n  connect(mapStateToProps, mapDispatchToProps)(ProductDetails)\n);\n"]},"metadata":{},"sourceType":"module"}