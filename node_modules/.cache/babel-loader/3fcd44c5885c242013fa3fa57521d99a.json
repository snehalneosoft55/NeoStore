{"ast":null,"code":"var _jsxFileName = \"/media/neosoft/9c465f2e-040e-4caf-a772-bfa0ff7f0d52/Backupsnehalp/NeoStore/src/components/Products.js\";\nimport React from \"react\";\nimport { connect } from \"react-redux\";\nimport ReactPaginate from \"react-paginate\";\nimport { Container, Row, Col } from \"react-bootstrap\";\nimport { Button } from \"react-bootstrap\";\nimport Footer from \"./footer\";\nimport HomeNavBar from \"./navbar\";\nimport SideMenu from \"./SideMenu\";\nimport ProductCard from \"./ProductCard\";\nimport { getProducts } from \"../actions/displayProductAction\";\nimport StarIcon from \"@material-ui/icons/Star\";\nimport ArrowUpwardIcon from \"@material-ui/icons/ArrowUpward\";\nimport ArrowDownwardIcon from \"@material-ui/icons/ArrowDownward\";\nimport { getCategories } from \"../actions/ListOfSideMenuAction\";\nimport { getProductByColorId } from '../actions/getproductByColorIdAction';\nimport { getProductByCatId } from '../actions/getProductByCatIdAction';\nimport Posts from \"./Posts\";\nimport Pagination from \"./Paginations\";\nimport axios from \"axios\";\nimport { BASE_URL } from \"../constants/BaseURL\"; // const products1 = null;\n\nclass Products extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.allProductsHandler = () => {\n      this.setState({\n        posts: this.state.allProducts\n      });\n    };\n\n    this.state = {\n      posts: \"\",\n      currentPage: 1,\n      postsPerPage: 10,\n      offset: 0,\n      data: [],\n      perPage: 6,\n      currentPage: 0,\n      products: \"\",\n      callbackData: \"\",\n      category_id: \"\",\n      color_id: \"\",\n      allProducts: ''\n    };\n  }\n\n  componentDidMount() {\n    this.props.getProducts().then(() => {\n      const {\n        productData\n      } = this.props;\n      console.log(\"productdata in didmount\", productData);\n      const y = productData.productData;\n      this.setState({\n        posts: y,\n        allProducts: y\n      });\n    });\n  }\n\n  colorHandler(val) {\n    this.props.getProductByColorId(val).then(() => {\n      const {\n        getProductBYColorId\n      } = this.props;\n      console.log(\"getProductBYColorId==\", getProductBYColorId);\n      let catProducts = getProductBYColorId.getProductBYColorId;\n      this.setState({\n        posts: catProducts,\n        color_id: val\n      });\n    });\n  }\n\n  categoryHandler(val) {\n    this.props.getProductByCatId(val).then(() => {\n      const {\n        getProductByCatId\n      } = this.props;\n      console.log(\"getProductByCatId in handler==\", getProductByCatId);\n      let catProducts = getProductByCatId.getProductByCatId;\n      console.log(\"catpropducts===\", catProducts);\n      this.setState({\n        posts: catProducts,\n        category_id: val\n      });\n    });\n  }\n\n  sortByAscending() {\n    axios.get(BASE_URL + \"commonProducts\", {\n      params: {\n        // category_id: val.category_id,\n        // color_id: val.color_id,\n        // sortBy: val.sortBy,\n        sortIn: false\n      }\n    }).then(({\n      data\n    }) => {\n      let catProducts = data.product_details;\n      this.setState({\n        posts: catProducts\n      });\n    });\n  }\n\n  sortByRating(val) {\n    axios.get(BASE_URL + \"commonProducts\", {\n      params: {\n        // category_id: val.category_id,\n        // color_id: val.color_id,\n        sortBy: val.sortBy // sortIn: val.sortIn\n\n      }\n    }).then(({\n      data\n    }) => {\n      let catProducts = data.product_details;\n      this.setState({\n        posts: catProducts\n      });\n    });\n  }\n\n  render() {\n    // used 3 files (paginations.js, posts.js, productCard.js)\n    //  in this product pageXOffset, issue with indexOfFirstPost and indexOfLastPost\n    const indexOfLastPost = this.state.currentPage * this.state.postsPerPage;\n    const indexOfFirstPost = indexOfLastPost - this.state.postsPerPage;\n    console.log(\"posts before current p\", this.state.posts);\n    const temPosts = this.state.posts;\n    console.log(\"both\", indexOfFirstPost, indexOfLastPost);\n    const currentPosts = temPosts.slice(0, 10);\n    console.log(\"in return current p==\", currentPosts); // Change page\n\n    const paginate = pageNumber => this.setState({\n      CurrentPage: pageNumber\n    });\n\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129\n      },\n      __self: this\n    }, React.createElement(HomeNavBar, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130\n      },\n      __self: this\n    }), React.createElement(\"hr\", {\n      style: {\n        marginTop: \"40px\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134\n      },\n      __self: this\n    }, React.createElement(Container, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135\n      },\n      __self: this\n    }, React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136\n      },\n      __self: this\n    }, React.createElement(Col, {\n      xs: 2,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137\n      },\n      __self: this\n    }, React.createElement(SideMenu // //   callbackFromParentInProduct={products1 => {\n    // //     this.myCallback(products1)\n    //   }}\n    , {\n      allProductsHandler: this.allProductsHandler,\n      categoryHandler: val => this.categoryHandler(val),\n      colorHandler: val => this.colorHandler(val),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138\n      },\n      __self: this\n    })), React.createElement(Col, {\n      style: {\n        marginLeft: \"78px\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150\n      },\n      __self: this\n    }, React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      className: \"header1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      style: {\n        fontSize: \"25px\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153\n      },\n      __self: this\n    }, \"All Categories\"), React.createElement(\"span\", {\n      style: {\n        paddingLeft: \"370px\",\n        fontSize: \"16px\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155\n      },\n      __self: this\n    }, \"Sort By:\", React.createElement(Button, {\n      className: \"sort\",\n      onClick: () => this.sortByRating({\n        category_id: this.state.category_id,\n        color_id: this.state.color_id,\n        sortBy: \"product_rating\",\n        sortIn: true\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157\n      },\n      __self: this\n    }, React.createElement(StarIcon, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168\n      },\n      __self: this\n    })), React.createElement(Button, {\n      className: \"sort\",\n      onClick: () => this.sortByAscending,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170\n      },\n      __self: this\n    }, \"\\u20B9\", React.createElement(ArrowUpwardIcon, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175\n      },\n      __self: this\n    })), React.createElement(Button, {\n      className: \"sort\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177\n      },\n      __self: this\n    }, \"\\u20B9\", React.createElement(ArrowDownwardIcon, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178\n      },\n      __self: this\n    })))), React.createElement(Col, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183\n      },\n      __self: this\n    }), React.createElement(Col, {\n      style: {\n        paddingLeft: \"168px\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185\n      },\n      __self: this\n    })), React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"popularProduct\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"container mt-5\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190\n      },\n      __self: this\n    }, console.log(\"in redner posts===\", currentPosts), currentPosts !== \"No details\" ? React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194\n      },\n      __self: this\n    }, React.createElement(Posts, Object.assign({\n      posts: currentPosts\n    }, this.props, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195\n      },\n      __self: this\n    })), React.createElement(Pagination, {\n      postsPerPage: this.state.postsPerPage,\n      totalPosts: this.state.posts.length,\n      paginate: paginate,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 196\n      },\n      __self: this\n    })) : React.createElement(\"h1\", {\n      style: {\n        marginLeft: \"230px\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 203\n      },\n      __self: this\n    }, \"No products Available\")))))))), React.createElement(\"hr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 215\n      },\n      __self: this\n    }), React.createElement(Footer, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 217\n      },\n      __self: this\n    }));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  // if (state.getProductBYColorId != undefined) {\n  // console.log(\"%%%%%%%%%%  categories==\", state.getProductBYColorId);\n  // }\n  console.log(\"%%%%%%%%%%  categories==\", state.getProductByCatIdReducer);\n  return {\n    productData: state.productData,\n    categories: state.categories,\n    getProductBYColorId: state.getProductByColorIdReducer,\n    getProductByCatId: state.getProductByCatIdReducer\n  };\n};\n\nconst mapDispatchToProps = {\n  getProducts,\n  getProductByColorId,\n  getProductByCatId,\n  getCategories\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(Products);","map":{"version":3,"sources":["/media/neosoft/9c465f2e-040e-4caf-a772-bfa0ff7f0d52/Backupsnehalp/NeoStore/src/components/Products.js"],"names":["React","connect","ReactPaginate","Container","Row","Col","Button","Footer","HomeNavBar","SideMenu","ProductCard","getProducts","StarIcon","ArrowUpwardIcon","ArrowDownwardIcon","getCategories","getProductByColorId","getProductByCatId","Posts","Pagination","axios","BASE_URL","Products","Component","constructor","props","allProductsHandler","setState","posts","state","allProducts","currentPage","postsPerPage","offset","data","perPage","products","callbackData","category_id","color_id","componentDidMount","then","productData","console","log","y","colorHandler","val","getProductBYColorId","catProducts","categoryHandler","sortByAscending","get","params","sortIn","product_details","sortByRating","sortBy","render","indexOfLastPost","indexOfFirstPost","temPosts","currentPosts","slice","paginate","pageNumber","CurrentPage","marginTop","marginLeft","fontSize","paddingLeft","length","mapStateToProps","getProductByCatIdReducer","categories","getProductByColorIdReducer","mapDispatchToProps"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport ReactPaginate from \"react-paginate\";\r\n\r\nimport { Container, Row, Col } from \"react-bootstrap\";\r\nimport { Button } from \"react-bootstrap\";\r\n\r\nimport Footer from \"./footer\";\r\nimport HomeNavBar from \"./navbar\";\r\nimport SideMenu from \"./SideMenu\";\r\nimport ProductCard from \"./ProductCard\";\r\nimport { getProducts } from \"../actions/displayProductAction\";\r\nimport StarIcon from \"@material-ui/icons/Star\";\r\nimport ArrowUpwardIcon from \"@material-ui/icons/ArrowUpward\";\r\nimport ArrowDownwardIcon from \"@material-ui/icons/ArrowDownward\";\r\nimport { getCategories} from \"../actions/ListOfSideMenuAction\";\r\nimport { getProductByColorId } from '../actions/getproductByColorIdAction';\r\nimport { getProductByCatId } from '../actions/getProductByCatIdAction';\r\nimport Posts from \"./Posts\";\r\nimport Pagination from \"./Paginations\";\r\nimport axios from \"axios\";\r\nimport { BASE_URL } from \"../constants/BaseURL\";\r\n\r\n// const products1 = null;\r\nclass Products extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      posts: \"\",\r\n\r\n      currentPage: 1,\r\n\r\n      postsPerPage: 10,\r\n      offset: 0,\r\n      data: [],\r\n      perPage: 6,\r\n      currentPage: 0,\r\n      products: \"\",\r\n      callbackData: \"\",\r\n      category_id: \"\",\r\n      color_id: \"\",\r\n      allProducts: ''\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.props.getProducts().then(() => {\r\n      const { productData } = this.props;\r\n      console.log(\"productdata in didmount\", productData);\r\n      const y = productData.productData;\r\n      this.setState({ posts: y, allProducts: y });\r\n    });\r\n  }\r\n  colorHandler(val) {\r\n    \r\n      this.props.getProductByColorId(val).then(() => {\r\n        const { getProductBYColorId } = this.props;\r\n        console.log(\"getProductBYColorId==\",getProductBYColorId);\r\n        let catProducts = getProductBYColorId.getProductBYColorId;\r\n        this.setState({ posts: catProducts, color_id: val });\r\n      });\r\n  }\r\n  categoryHandler(val) {\r\n    this.props.getProductByCatId(val).then(() => {\r\n      const { getProductByCatId } = this.props;\r\n      console.log(\"getProductByCatId in handler==\",getProductByCatId);\r\n\r\n        let catProducts = getProductByCatId.getProductByCatId;\r\n        console.log(\"catpropducts===\",catProducts);\r\n        this.setState({ posts: catProducts, category_id: val });\r\n      });\r\n  }\r\n  sortByAscending() {\r\n    axios\r\n      .get(BASE_URL + \"commonProducts\", {\r\n        params: {\r\n          // category_id: val.category_id,\r\n          // color_id: val.color_id,\r\n          // sortBy: val.sortBy,\r\n          sortIn: false\r\n        }\r\n      })\r\n\r\n      .then(({ data }) => {\r\n        let catProducts = data.product_details;\r\n        this.setState({ posts: catProducts });\r\n      });\r\n  }\r\n  sortByRating(val) {\r\n    axios\r\n      .get(BASE_URL + \"commonProducts\", {\r\n        params: {\r\n          // category_id: val.category_id,\r\n          // color_id: val.color_id,\r\n          sortBy: val.sortBy,\r\n          // sortIn: val.sortIn\r\n        }\r\n      })\r\n\r\n      .then(({ data }) => {\r\n        let catProducts = data.product_details;\r\n        this.setState({ posts: catProducts });\r\n      });\r\n  }\r\n\r\n  \r\n  allProductsHandler = () => {\r\n    this.setState({ posts: this.state.allProducts })\r\n  }\r\n  render() {\r\n    // used 3 files (paginations.js, posts.js, productCard.js)\r\n    //  in this product pageXOffset, issue with indexOfFirstPost and indexOfLastPost\r\n\r\n    const indexOfLastPost = this.state.currentPage * this.state.postsPerPage;\r\n\r\n    const indexOfFirstPost = indexOfLastPost - this.state.postsPerPage;\r\n\r\n    console.log(\"posts before current p\", this.state.posts);\r\n    const temPosts = this.state.posts;\r\n    console.log(\"both\", indexOfFirstPost, indexOfLastPost);\r\n    const currentPosts = temPosts.slice(0, 10);\r\n    console.log(\"in return current p==\", currentPosts);\r\n\r\n    // Change page\r\n\r\n    const paginate = pageNumber => this.setState({ CurrentPage: pageNumber });\r\n\r\n    return (\r\n      <div>\r\n        <HomeNavBar />\r\n\r\n        <hr style={{ marginTop: \"40px\" }}></hr>\r\n\r\n        <div>\r\n          <Container>\r\n            <Row>\r\n              <Col xs={2}>\r\n                <SideMenu\r\n                  // //   callbackFromParentInProduct={products1 => {\r\n\r\n                  // //     this.myCallback(products1)\r\n\r\n                  //   }}\r\n                  allProductsHandler={this.allProductsHandler}\r\n                  categoryHandler={val => this.categoryHandler(val)}\r\n                  colorHandler={val => this.colorHandler(val)}\r\n                />\r\n              </Col>\r\n\r\n              <Col style={{ marginLeft: \"78px\" }}>\r\n                <Row>\r\n                  <p className=\"header1\">\r\n                    <span style={{ fontSize: \"25px\" }}>All Categories</span>\r\n\r\n                    <span style={{ paddingLeft: \"370px\", fontSize: \"16px\" }}>\r\n                      Sort By:\r\n                      <Button\r\n                        className=\"sort\"\r\n                        onClick={() =>\r\n                          this.sortByRating({\r\n                            category_id: this.state.category_id,\r\n                            color_id: this.state.color_id,\r\n                            sortBy: \"product_rating\",\r\n                            sortIn: true\r\n                          })\r\n                        }\r\n                      >\r\n                        <StarIcon />\r\n                      </Button>\r\n                      <Button className=\"sort\"\r\n                        onClick={\r\n                          () => this.sortByAscending\r\n                        }\r\n                      >\r\n                        ₹<ArrowUpwardIcon></ArrowUpwardIcon>\r\n                      </Button>\r\n                      <Button className=\"sort\">\r\n                        ₹<ArrowDownwardIcon />\r\n                      </Button>\r\n                    </span>\r\n                  </p>\r\n\r\n                  <Col></Col>\r\n\r\n                  <Col style={{ paddingLeft: \"168px\" }}></Col>\r\n                </Row>\r\n\r\n                <Row>\r\n                  <div className=\"popularProduct\">\r\n                    <div className=\"container mt-5\">\r\n                      {/* <h1 className='text-primary mb-3'>My Blog</h1> */}\r\n                      {console.log(\"in redner posts===\", currentPosts)}\r\n                      {currentPosts !== \"No details\" ? (\r\n                        <div>\r\n                          <Posts posts={currentPosts} {...this.props} />\r\n                          <Pagination\r\n                            postsPerPage={this.state.postsPerPage}\r\n                            totalPosts={this.state.posts.length}\r\n                            paginate={paginate}\r\n                          />\r\n                        </div>\r\n                      ) : (\r\n                          <h1 style={{ marginLeft: \"230px\" }}>\r\n                            No products Available\r\n                          </h1>\r\n                        )}\r\n                    </div>\r\n                  </div>\r\n                </Row>\r\n              </Col>\r\n            </Row>\r\n          </Container>\r\n        </div>\r\n\r\n        <hr></hr>\r\n\r\n        <Footer />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  // if (state.getProductBYColorId != undefined) {\r\n  // console.log(\"%%%%%%%%%%  categories==\", state.getProductBYColorId);\r\n\r\n  // }\r\n  console.log(\"%%%%%%%%%%  categories==\", state.getProductByCatIdReducer);\r\n\r\n  return {\r\n    productData: state.productData,\r\n    categories: state.categories,\r\n    getProductBYColorId:state.getProductByColorIdReducer,\r\n    getProductByCatId:state.getProductByCatIdReducer\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = {\r\n  getProducts,\r\n  getProductByColorId,\r\n  getProductByCatId,\r\n  getCategories\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Products);\r\n"]},"metadata":{},"sourceType":"module"}