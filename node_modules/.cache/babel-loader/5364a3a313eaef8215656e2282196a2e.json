{"ast":null,"code":"var _jsxFileName = \"/home/neosoft/NeoStore/src/components/Products.js\";\nimport React from \"react\";\nimport { connect } from \"react-redux\";\nimport ReactPaginate from \"react-paginate\";\nimport { Container, Row, Col } from \"react-bootstrap\";\nimport { Button } from \"react-bootstrap\";\nimport Footer from \"./footer\";\nimport HomeNavBar from \"./navbar\";\nimport SideMenu from \"./SideMenu\";\nimport ProductCard from \"./ProductCard\";\nimport { getProducts } from \"../actions/displayProductAction\";\nimport StarIcon from \"@material-ui/icons/Star\";\nimport ArrowUpwardIcon from \"@material-ui/icons/ArrowUpward\";\nimport ArrowDownwardIcon from \"@material-ui/icons/ArrowDownward\";\nimport { getCategories } from \"../actions/ListOfSideMenuAction\";\nimport { getProductByColorId } from \"../actions/getproductByColorIdAction\";\nimport Posts from \"./Posts\";\nimport Pagination from \"./Paginations\";\nimport axios from \"axios\";\nimport { BASE_URL } from \"../constants/BaseURL\";\nimport Example from \"./Loader\"; // import Loader from \"react-loader-spinner\";\n\nimport Loading from \"./Loading\";\n\nclass Products extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.sortByAscending = () => {\n      this.setState({\n        checkLoader: true\n      }); // console.log(\"in sort by acs====\");\n\n      axios.get(BASE_URL + \"commonProducts\", {\n        params: {\n          sortBy: \"product_cost\",\n          sortIn: false\n        }\n      }).then(({\n        data\n      }) => {\n        console.log(\"data\", data);\n        let catProducts = data.product_details;\n        console.log(\"catPro---\", catProducts);\n        this.setState({\n          posts: catProducts,\n          checkLoader: false\n        });\n      });\n    };\n\n    this.sortByDesc = () => {\n      this.setState({\n        checkLoader: true\n      });\n      axios.get(BASE_URL + \"commonProducts\", {\n        params: {\n          // category_id: val.category_id,\n          // color_id: val.color_id,\n          // sortBy: val.sortBy,\n          sortBy: \"product_cost\",\n          sortIn: true\n        }\n      }).then(({\n        data\n      }) => {\n        console.log(\"data\", data);\n        let catProducts = data.product_details;\n        console.log(\"catPro---\", catProducts);\n        this.setState({\n          posts: catProducts,\n          checkLoader: false\n        });\n      });\n    };\n\n    this.allProductsHandler = () => {\n      this.setState({\n        posts: this.state.allProducts,\n        heading: \"All Categories\"\n      });\n    };\n\n    this.paginate = pageNumber => {\n      console.log(\"in paginate\");\n      setTimeout(() => {\n        this.setState({\n          checkLoader: false\n        });\n        this.myRef.current.scrollTo(0, 0);\n      }, 2000);\n      return this.setState({\n        currentPage: pageNumber,\n        checkLoader: true\n      });\n    };\n\n    this.myRef = React.createRef();\n    this.state = {\n      posts: \"\",\n      currentPage: 1,\n      postsPerPage: 6,\n      checkLoader: false,\n      heading: 'All categories'\n    };\n  }\n\n  componentDidMount() {\n    if (this.props.location.state) {\n      const datafromSlideImage = this.props.location.state.category_id_fromslide_images;\n      axios.get(BASE_URL + \"commonProducts\", {\n        params: {\n          category_id: datafromSlideImage\n        }\n      }).then(({\n        data\n      }) => {\n        let catProducts = data.product_details; // console.log(\"in console---data----\",data);\n\n        this.setState({\n          posts: catProducts,\n          category_id: datafromSlideImage,\n          color_id: \"\"\n        });\n      });\n    }\n\n    this.props.getProducts().then(() => {\n      const {\n        productData\n      } = this.props;\n      console.log(\"productdata in didmount\", productData);\n      const y = productData.productData;\n      this.setState({\n        posts: y,\n        allProducts: y\n      });\n    });\n  }\n\n  colorHandler(val) {\n    this.setState({\n      checkLoader: true\n    });\n    this.props.getProductByColorId(val).then(() => {\n      const {\n        getProductBYColorId\n      } = this.props;\n      console.log(\"getProductBYColorId==\", getProductBYColorId.getProductBYColorId);\n      let catProducts = getProductBYColorId.getProductBYColorId;\n      this.setState({\n        posts: catProducts,\n        color_id: val,\n        category_id: \"\",\n        checkLoader: false\n      });\n    });\n  }\n\n  categoryHandler(val) {\n    this.setState({\n      checkLoader: true\n    });\n    axios.get(BASE_URL + \"commonProducts\", {\n      params: {\n        category_id: val // color_id: this.state.color_id,\n\n      }\n    }).then(({\n      data\n    }) => {\n      let catProducts = data.product_details;\n      console.log(\"in console of category\", catProducts);\n      console.log(\"categ name====\", catProducts[0].category_id.category_name);\n      let heading = catProducts[0].category_id.category_name;\n      this.setState({\n        heading: heading\n      });\n      this.setState({\n        posts: catProducts,\n        category_id: val,\n        color_id: \"\",\n        checkLoader: false\n      });\n    });\n  }\n\n  /**\r\n   * By sorting by rating\r\n   * @param {val} val\r\n   */\n  sortByRating(val) {\n    this.setState({\n      checkLoader: true\n    });\n    axios.get(BASE_URL + \"commonProducts\", {\n      params: {\n        sortBy: val.sortBy\n      }\n    }).then(({\n      data\n    }) => {\n      let catProducts = data.product_details;\n      this.setState({\n        posts: catProducts,\n        checkLoader: false\n      });\n    }); // this.setState({})\n  }\n\n  render() {\n    let x = \"\";\n    const indexOfLastPost = this.state.currentPage * this.state.postsPerPage;\n    const indexOfFirstPost = indexOfLastPost - this.state.postsPerPage;\n    const temPosts = this.state.posts;\n    const currentPosts = temPosts.slice(indexOfFirstPost, indexOfLastPost);\n\n    if (this.state.checkLoader === true || currentPosts === undefined || currentPosts === \"\") {\n      x = React.createElement(Loading, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 194\n        },\n        __self: this\n      });\n    } else {\n      x = React.createElement(React.Fragment, {\n        className: \"popularProduct\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 197\n        },\n        __self: this\n      }, React.createElement(React.Fragment, {\n        className: \"container mt-5\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 198\n        },\n        __self: this\n      }, currentPosts !== \"No details\" ? React.createElement(React.Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 200\n        },\n        __self: this\n      }, React.createElement(Posts, Object.assign({\n        posts: currentPosts,\n        loading: this.state.checkLoader\n      }, this.props, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 201\n        },\n        __self: this\n      })), React.createElement(Pagination, {\n        postsPerPage: this.state.postsPerPage,\n        totalPosts: this.state.posts.length,\n        paginate: this.paginate,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 206\n        },\n        __self: this\n      })) : React.createElement(\"h1\", {\n        style: {\n          marginLeft: \"230px\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 213\n        },\n        __self: this\n      }, \"No products Available\")));\n    }\n\n    return React.createElement(React.Fragment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 220\n      },\n      __self: this\n    }, React.createElement(HomeNavBar, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 221\n      },\n      __self: this\n    }), React.createElement(\"hr\", {\n      style: {\n        marginTop: \"30px\",\n        width: \"1300px\",\n        marginBottom: \"16px\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 222\n      },\n      __self: this\n    }), React.createElement(React.Fragment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 225\n      },\n      __self: this\n    }, currentPosts === undefined || currentPosts === \"\" ? React.createElement(Loading, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 227\n      },\n      __self: this\n    }) : React.createElement(Container, {\n      fluid: false,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 229\n      },\n      __self: this\n    }, React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 230\n      },\n      __self: this\n    }, React.createElement(Col, {\n      xs: 2,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 231\n      },\n      __self: this\n    }, React.createElement(SideMenu, {\n      allProductsHandler: this.allProductsHandler,\n      categoryHandler: val => this.categoryHandler(val),\n      colorHandler: val => this.colorHandler(val),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 232\n      },\n      __self: this\n    })), React.createElement(Col, {\n      style: {\n        marginLeft: \"78px\",\n        maxWidth: \"74%\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 238\n      },\n      __self: this\n    }, React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 239\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"header1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 240\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      style: {\n        fontSize: \"25px\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 241\n      },\n      __self: this\n    }, this.state.heading), React.createElement(\"span\", {\n      style: {\n        paddingLeft: \"370px\",\n        fontSize: \"16px\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 242\n      },\n      __self: this\n    }, \"Sort By:\", React.createElement(Button, {\n      className: \"sort\",\n      onClick: () => this.sortByRating({\n        category_id: this.state.category_id,\n        color_id: this.state.color_id,\n        sortBy: \"product_rating\",\n        sortIn: true\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 244\n      },\n      __self: this\n    }, React.createElement(StarIcon, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 255\n      },\n      __self: this\n    })), React.createElement(Button, {\n      className: \"sort\",\n      onClick: this.sortByAscending,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 257\n      },\n      __self: this\n    }, \"\\u20B9\", React.createElement(ArrowUpwardIcon, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 258\n      },\n      __self: this\n    })), React.createElement(Button, {\n      className: \"sort\",\n      onClick: this.sortByDesc,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 260\n      },\n      __self: this\n    }, \"\\u20B9\", React.createElement(ArrowDownwardIcon, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 261\n      },\n      __self: this\n    })))), React.createElement(Col, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 266\n      },\n      __self: this\n    }), React.createElement(Col, {\n      style: {\n        paddingLeft: \"168px\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 268\n      },\n      __self: this\n    })), React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 271\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      ref: this.myRef,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 272\n      },\n      __self: this\n    }, x)))))), React.createElement(\"hr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 280\n      },\n      __self: this\n    }), React.createElement(Footer, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 281\n      },\n      __self: this\n    }));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    productData: state.productData,\n    categories: state.categories,\n    getProductBYColorId: state.getProductByColorIdReducer\n  };\n};\n\nconst mapDispatchToProps = {\n  getProducts,\n  getProductByColorId,\n  getCategories\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(Products);","map":{"version":3,"sources":["/home/neosoft/NeoStore/src/components/Products.js"],"names":["React","connect","ReactPaginate","Container","Row","Col","Button","Footer","HomeNavBar","SideMenu","ProductCard","getProducts","StarIcon","ArrowUpwardIcon","ArrowDownwardIcon","getCategories","getProductByColorId","Posts","Pagination","axios","BASE_URL","Example","Loading","Products","Component","constructor","props","sortByAscending","setState","checkLoader","get","params","sortBy","sortIn","then","data","console","log","catProducts","product_details","posts","sortByDesc","allProductsHandler","state","allProducts","heading","paginate","pageNumber","setTimeout","myRef","current","scrollTo","currentPage","createRef","postsPerPage","componentDidMount","location","datafromSlideImage","category_id_fromslide_images","category_id","color_id","productData","y","colorHandler","val","getProductBYColorId","categoryHandler","category_name","sortByRating","render","x","indexOfLastPost","indexOfFirstPost","temPosts","currentPosts","slice","undefined","length","marginLeft","marginTop","width","marginBottom","maxWidth","fontSize","paddingLeft","mapStateToProps","categories","getProductByColorIdReducer","mapDispatchToProps"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport ReactPaginate from \"react-paginate\";\r\n\r\nimport { Container, Row, Col } from \"react-bootstrap\";\r\nimport { Button } from \"react-bootstrap\";\r\n\r\nimport Footer from \"./footer\";\r\nimport HomeNavBar from \"./navbar\";\r\nimport SideMenu from \"./SideMenu\";\r\nimport ProductCard from \"./ProductCard\";\r\nimport { getProducts } from \"../actions/displayProductAction\";\r\nimport StarIcon from \"@material-ui/icons/Star\";\r\nimport ArrowUpwardIcon from \"@material-ui/icons/ArrowUpward\";\r\nimport ArrowDownwardIcon from \"@material-ui/icons/ArrowDownward\";\r\nimport { getCategories } from \"../actions/ListOfSideMenuAction\";\r\nimport { getProductByColorId } from \"../actions/getproductByColorIdAction\";\r\nimport Posts from \"./Posts\";\r\nimport Pagination from \"./Paginations\";\r\nimport axios from \"axios\";\r\nimport { BASE_URL } from \"../constants/BaseURL\";\r\nimport Example from \"./Loader\";\r\n// import Loader from \"react-loader-spinner\";\r\nimport Loading from \"./Loading\";\r\n\r\nclass Products extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.myRef = React.createRef()\r\n    this.state = {\r\n      posts: \"\",\r\n      currentPage: 1,\r\n      postsPerPage: 6,\r\n      checkLoader: false,\r\n      heading:'All categories'\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    if (this.props.location.state) {\r\n      const datafromSlideImage = this.props.location.state\r\n        .category_id_fromslide_images;\r\n      axios\r\n        .get(BASE_URL + \"commonProducts\", {\r\n          params: {\r\n            category_id: datafromSlideImage,\r\n          },\r\n        })\r\n        .then(({ data }) => {\r\n          let catProducts = data.product_details;\r\n          // console.log(\"in console---data----\",data);\r\n\r\n          this.setState({\r\n            posts: catProducts,\r\n            category_id: datafromSlideImage,\r\n            color_id: \"\",\r\n          });\r\n        });\r\n    }\r\n    this.props.getProducts().then(() => {\r\n      const { productData } = this.props;\r\n      console.log(\"productdata in didmount\", productData);\r\n      const y = productData.productData;\r\n      this.setState({ posts: y, allProducts: y });\r\n    });\r\n  }\r\n  colorHandler(val) {\r\n    this.setState({ checkLoader: true });\r\n    this.props.getProductByColorId(val).then(() => {\r\n      const { getProductBYColorId } = this.props;\r\n      console.log(\r\n        \"getProductBYColorId==\",\r\n        getProductBYColorId.getProductBYColorId\r\n      );\r\n      let catProducts = getProductBYColorId.getProductBYColorId;\r\n      this.setState({\r\n        posts: catProducts,\r\n        color_id: val,\r\n        category_id: \"\",\r\n        checkLoader: false,\r\n      });\r\n    });\r\n  }\r\n\r\n  categoryHandler(val) {\r\n    this.setState({ checkLoader: true });\r\n    axios\r\n      .get(BASE_URL + \"commonProducts\", {\r\n        params: {\r\n          category_id: val,\r\n          // color_id: this.state.color_id,\r\n        },\r\n      })\r\n      .then(({ data }) => {\r\n        let catProducts = data.product_details;\r\n\r\n        console.log(\"in console of category\",catProducts);\r\n        console.log(\"categ name====\",catProducts[0].category_id.category_name);\r\n        let heading=catProducts[0].category_id.category_name;\r\n        this.setState({heading:heading});\r\n        this.setState({\r\n          posts: catProducts,\r\n          category_id: val,\r\n          color_id: \"\",\r\n          checkLoader: false,\r\n        });\r\n      });\r\n  }\r\n\r\n  sortByAscending = () => {\r\n    this.setState({checkLoader:true});\r\n\r\n    // console.log(\"in sort by acs====\");\r\n    axios\r\n      .get(BASE_URL + \"commonProducts\", {\r\n        params: {\r\n          sortBy: \"product_cost\",\r\n          sortIn: false,\r\n        },\r\n      })\r\n\r\n      .then(({ data }) => {\r\n        console.log(\"data\", data);\r\n        let catProducts = data.product_details;\r\n        console.log(\"catPro---\", catProducts);\r\n        this.setState({ posts: catProducts,checkLoader:false });\r\n      });\r\n  };\r\n\r\n  sortByDesc = () => {\r\n    this.setState({checkLoader:true});\r\n\r\n    axios\r\n      .get(BASE_URL + \"commonProducts\", {\r\n        params: {\r\n          // category_id: val.category_id,\r\n          // color_id: val.color_id,\r\n          // sortBy: val.sortBy,\r\n          sortBy: \"product_cost\",\r\n          sortIn: true,\r\n        },\r\n      })\r\n\r\n      .then(({ data }) => {\r\n        console.log(\"data\", data);\r\n        let catProducts = data.product_details;\r\n        console.log(\"catPro---\", catProducts);\r\n        this.setState({ posts: catProducts , checkLoader:false});\r\n      });\r\n  };\r\n\r\n  /**\r\n   * By sorting by rating\r\n   * @param {val} val\r\n   */\r\n  sortByRating(val) {\r\n    this.setState({checkLoader:true});\r\n    axios\r\n      .get(BASE_URL + \"commonProducts\", {\r\n        params: {\r\n          sortBy: val.sortBy,\r\n        },\r\n      })\r\n      .then(({ data }) => {\r\n        let catProducts = data.product_details;\r\n        this.setState({ posts: catProducts,checkLoader:false});\r\n      });\r\n      // this.setState({})\r\n  }\r\n\r\n  allProductsHandler = () => {\r\n    this.setState({ posts: this.state.allProducts,heading:\"All Categories\" });\r\n  };\r\n  paginate = (pageNumber) => {\r\n    console.log(\"in paginate\");\r\n    setTimeout(() => {\r\n      this.setState({ checkLoader: false });\r\n      this.myRef.current.scrollTo(0, 0);\r\n    }, 2000);\r\n    \r\n    return this.setState({ currentPage: pageNumber, checkLoader: true });\r\n  };\r\n  render() {\r\n    let x = \"\";\r\n    const indexOfLastPost = this.state.currentPage * this.state.postsPerPage;\r\n    const indexOfFirstPost = indexOfLastPost - this.state.postsPerPage;\r\n    const temPosts = this.state.posts;\r\n    const currentPosts = temPosts.slice(indexOfFirstPost, indexOfLastPost);\r\n    if (\r\n      this.state.checkLoader === true ||\r\n      currentPosts === undefined ||\r\n      currentPosts === \"\"\r\n    ) {\r\n      x = <Loading></Loading>;\r\n    } else {\r\n      x = (\r\n        <React.Fragment className=\"popularProduct\">\r\n          <React.Fragment className=\"container mt-5\">\r\n            {currentPosts !== \"No details\" ? (\r\n              <React.Fragment>\r\n                <Posts\r\n                  posts={currentPosts}\r\n                  loading={this.state.checkLoader}\r\n                  {...this.props}\r\n                />\r\n                <Pagination\r\n                  postsPerPage={this.state.postsPerPage}\r\n                  totalPosts={this.state.posts.length}\r\n                  paginate={this.paginate}\r\n                />\r\n              </React.Fragment>\r\n            ) : (\r\n              <h1 style={{ marginLeft: \"230px\" }}>No products Available</h1>\r\n            )}\r\n          </React.Fragment>\r\n        </React.Fragment>\r\n      );\r\n    }\r\n    return (\r\n      <React.Fragment>\r\n        <HomeNavBar />\r\n        <hr\r\n          style={{ marginTop: \"30px\", width: \"1300px\", marginBottom: \"16px\" }}\r\n        ></hr>\r\n        <React.Fragment>\r\n          {currentPosts === undefined || currentPosts === \"\" ? (\r\n            <Loading />\r\n          ) : (\r\n            <Container fluid={false}>\r\n              <Row>\r\n                <Col xs={2}>\r\n                  <SideMenu\r\n                    allProductsHandler={this.allProductsHandler}\r\n                    categoryHandler={(val) => this.categoryHandler(val)}\r\n                    colorHandler={(val) => this.colorHandler(val)}\r\n                  />\r\n                </Col>\r\n                <Col style={{ marginLeft: \"78px\", maxWidth: \"74%\" }}>\r\n                  <Row>\r\n                    <div className=\"header1\">\r\n          <span style={{ fontSize: \"25px\" }}>{this.state.heading}</span>\r\n                      <span style={{ paddingLeft: \"370px\", fontSize: \"16px\" }}>\r\n                        Sort By:\r\n                        <Button\r\n                          className=\"sort\"\r\n                          onClick={() =>\r\n                            this.sortByRating({\r\n                              category_id: this.state.category_id,\r\n                              color_id: this.state.color_id,\r\n                              sortBy: \"product_rating\",\r\n                              sortIn: true,\r\n                            })\r\n                          }\r\n                        >\r\n                          <StarIcon />\r\n                        </Button>\r\n                        <Button className=\"sort\" onClick={this.sortByAscending}>\r\n                          ₹<ArrowUpwardIcon></ArrowUpwardIcon>\r\n                        </Button>\r\n                        <Button className=\"sort\" onClick={this.sortByDesc}>\r\n                          ₹<ArrowDownwardIcon />\r\n                        </Button>\r\n                      </span>\r\n                    </div>\r\n\r\n                    <Col></Col>\r\n\r\n                    <Col style={{ paddingLeft: \"168px\" }}></Col>\r\n                  </Row>\r\n\r\n                  <Row>\r\n                    <div ref={this.myRef}>{x}</div>\r\n                    </Row>\r\n                </Col>\r\n              </Row>\r\n            </Container>\r\n          )}\r\n        </React.Fragment>\r\n\r\n        <hr></hr>\r\n        <Footer />\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    productData: state.productData,\r\n    categories: state.categories,\r\n    getProductBYColorId: state.getProductByColorIdReducer,\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = {\r\n  getProducts,\r\n  getProductByColorId,\r\n  getCategories,\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Products);\r\n"]},"metadata":{},"sourceType":"module"}