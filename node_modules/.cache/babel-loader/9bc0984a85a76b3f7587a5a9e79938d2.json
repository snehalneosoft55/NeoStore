{"ast":null,"code":"var _jsxFileName = \"/home/neosoft/NeoStore/src/components/AddToCart.js\";\nimport React from 'react';\nexport default class AddToCart extends React.Component {\n  constructor() {\n    super();\n\n    this.handleCart = async e => {\n      const productData = this.props;\n      const productDetail = productData.ProductData;\n      console.log(\"id==\", productDetail);\n      const productDetails = [{\n        productDetail: productDetail,\n        quantity: 1\n      }];\n      console.log(\"productdetails====\");\n      const myArray = await localStorage.getItem('cartProducts'); // console.log(\"myArray: \",JSON.parse(myArray));\n\n      let productsInLocalStorage,\n          flag = false;\n\n      if (myArray !== null) {\n        productsInLocalStorage = JSON.parse(myArray);\n        console.log(\"productsInLocalStorage\", productsInLocalStorage);\n        productsInLocalStorage.map((val, i) => {\n          let x = val; // console.log(\"x==\",x.productDetail.id)\n\n          if (i === 0) {\n            console.log(\"x\");\n            console.log(\"x==\", x[0].productDetail.id);\n            let z = x.productDetail.id;\n            console.log(\"productDetails\", productDetails);\n            if (z === productDetails[i].productDetail.id) flag = true;\n          } else {\n            console.log(\"x in else==\", x[0].productDetail.id);\n            let a = x[0].productDetail.id;\n            console.log(\"in else productDetails\", productDetails[0].productDetail.id);\n\n            if (a === productDetails[0].productDetail.id) {\n              flag = true;\n            }\n          } // if(x === productDetails.productDetail.id){\n          //         flag = true;\n          // }\n\n        });\n\n        if (flag === false) {\n          productsInLocalStorage.push(productDetails);\n          alert(\"Added to cart\"); // console.log(\"Modified myArray productsInLocalStorage: \",productsInLocalStorage);\n        } else {\n          alert('Already in cart');\n        }\n\n        await localStorage.setItem('cartProducts', JSON.stringify(productsInLocalStorage));\n      } else {\n        console.log(\"productDetails\", productDetails);\n        await localStorage.setItem('cartProducts', JSON.stringify(productDetails));\n      } //     // const data1=[\n      //     //     {\n      //     //         productDetail:productDetail,\n      //     //         quantity:1\n      //     //     }\n      //     // ];\n      //     const myArray= localStorage.getItem('cartProducts');\n      //     let productsInLocalStorage;\n      //     let flag=false;\n      //     if(myArray !== null){\n      //         productsInLocalStorage=JSON.parse(myArray)\n      //         data1.map(val=>{\n      //             if(val.productDetail.id==productDetail.id){\n      //                 flag=true;\n      //                 console.log(\"\");\n      //                 alert('Already in cart');\n      //             }\n      //             else{\n      //                 data1.push(productDetail);\n      //             }\n      //         }\n      //         )\n      //             localStorage.setItem('cartProducts', JSON.stringify(productsInLocalStorage));\n      //             console.log(\"localstorage length==\",localStorage.length);\n      //     }\n      //     else{\n      //         const data1=[\n      //             {\n      //                 productDetail:productDetail,\n      //                 quantity:1\n      //             }\n      //         ];\n      //         localStorage.setItem('cartProducts', JSON.stringify(data1));\n      // }\n      // const c= JSON.parse(localStorage.getItem('cartProducts'));\n      // console.log(\"c==\",c);\n      //     // localStorage.setItem('data1',JSON.stringify(data1));\n      //     // const p=JSON.parse(localStorage.getItem('data1'));\n      //     // console.log(\"JSON.stringify(data1)\",JSON.stringify(data1))\n      //     // console.log(\"p\",p);\n      //     // const data={\n      //     //     productDetail:productDetail,\n      //     //     quantity:1\n      //     // }\n      //     // // console.log(\"datadata\",data);\n      //     // localStorage.setItem('data',JSON.stringify(data));\n      //     // const y=JSON.parse(localStorage.getItem(\"data\"));\n      //     // const y=localStorage.getItem(\"data\")\n      //     // console.log(\"y.quantity\",y);\n      //     // const z=JSON.parse(y);\n      //     // console.log(\"z.quantity\",z.quantity);\n      //     // const { cartProduct } = this.state;\n      //     // localStorage.setItem('cartProduct', cartProduct);\n      //     ////console.log(\"cartProduct:::\",this.state.cartProduct,\"----and the cartProduct=\",cartProduct);\n      //     // this.state.cartProduct=cartProduct+1;\n      //     ////console.log(\"cartProduct=====\",this.state.cartProduct);\n      //     // this.setState({cartProduct:this.cartProduct+1});\n      // ////console.log(\"cart value===\",this.cartProduct);\n\n    };\n\n    this.state = {\n      cartProduct: 0\n    };\n  }\n\n  componentDidMount() {\n    const productData = this.props;\n    const productDetail = productData.ProductData; // console.log(\"id==\",productDetail);\n\n    console.log(\"id==\", productDetail); // localStorage.clear();\n  }\n\n  render() {\n    return React.createElement(\"button\", {\n      className: \"ProductCardwrapperButton\",\n      style: {\n        marginLeft: this.props.m,\n        backgroundColor: this.props.color,\n        width: this.props.width,\n        height: this.props.height\n      },\n      onClick: this.handleCart,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155\n      },\n      __self: this\n    }, \"Add To Cart\");\n  }\n\n}","map":{"version":3,"sources":["/home/neosoft/NeoStore/src/components/AddToCart.js"],"names":["React","AddToCart","Component","constructor","handleCart","e","productData","props","productDetail","ProductData","console","log","productDetails","quantity","myArray","localStorage","getItem","productsInLocalStorage","flag","JSON","parse","map","val","i","x","id","z","a","push","alert","setItem","stringify","state","cartProduct","componentDidMount","render","marginLeft","m","backgroundColor","color","width","height"],"mappings":"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","sourcesContent":["import React from 'react'\n\nexport default class AddToCart extends React.Component{\n    constructor(){\n        super();\n        this.state = {\n           \n           cartProduct:0\n         };\n    }\n    componentDidMount(){\n        const productData = this.props;\n        const productDetail=productData.ProductData;\n\n        // console.log(\"id==\",productDetail);\n        console.log(\"id==\",productDetail);\n        \n        // localStorage.clear();\n    }\n    handleCart=async (e)=>\n    {\n        const productData = this.props;\n        const productDetail=productData.ProductData;\n        \n        console.log(\"id==\",productDetail);\n        const productDetails=[\n            {\n                productDetail:productDetail,\n            quantity:1\n            }\n        ]\n            \n        console.log(\"productdetails====\");\n\t\t\tconst myArray = await localStorage.getItem('cartProducts');\n\t\t\t// console.log(\"myArray: \",JSON.parse(myArray));\n\t\t\tlet productsInLocalStorage, flag=false;\n\n\t\t\tif(myArray !== null){ \n\t\t\t\t\t\n\t\t\t\t\tproductsInLocalStorage =  JSON.parse(myArray);\n                console.log(\"productsInLocalStorage\",productsInLocalStorage);\n\n\t\t\t\t\tproductsInLocalStorage.map( (val,i)=>{\n                        let x=val;\n                        // console.log(\"x==\",x.productDetail.id)\n                        \n                        if(i===0){\n                            console.log(\"x\");\n                            console.log(\"x==\",x[0].productDetail.id)\n                            let z=x.productDetail.id;\n                            console.log(\"productDetails\",productDetails);\n                            if(z===productDetails[i].productDetail.id)\n                            flag = true;\n                        }\n                        else{\n                            console.log(\"x in else==\",x[0].productDetail.id);\n                            let a=x[0].productDetail.id;\n                            console.log(\"in else productDetails\",productDetails[0].productDetail.id);\n                            if(a===productDetails[0].productDetail.id){\n                                flag = true;\n                            }\n                        }\n\t\t\t\t\t\t\t// if(x === productDetails.productDetail.id){\n                            //         flag = true;\n                                   \n                            // }\n                            \n\t\t\t\t\t});\n\n\t\t\t\t\t\n\t\t\t\t\t\t\tif(flag === false){\n\t\t\t\t\t\t\tproductsInLocalStorage.push(productDetails);\n\t\t\t\t\t\t\talert(\"Added to cart\");\n\t\t\t\t\t\t\t// console.log(\"Modified myArray productsInLocalStorage: \",productsInLocalStorage);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse{\n\t\t\t\t\t\t\talert('Already in cart');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tawait localStorage.setItem('cartProducts', JSON.stringify(productsInLocalStorage));\n\t\t\t\t\t\n\t\t\t}\n\t\t\telse{\n                console.log(\"productDetails\",productDetails);\n\t\t\t\t\t await localStorage.setItem('cartProducts', JSON.stringify(productDetails));\n\t\t\t}\n    //     // const data1=[\n    //     //     {\n    //     //         productDetail:productDetail,\n    //     //         quantity:1\n    //     //     }\n    //     // ];\n    //     const myArray= localStorage.getItem('cartProducts');\n\n    //     let productsInLocalStorage;\n    //     let flag=false;\n    //     if(myArray !== null){\n    //         productsInLocalStorage=JSON.parse(myArray)\n    //         data1.map(val=>{\n    //             if(val.productDetail.id==productDetail.id){\n    //                 flag=true;\n    //                 console.log(\"\");\n    //                 alert('Already in cart');\n    //             }\n    //             else{\n    //                 data1.push(productDetail);\n    //             }\n    //         }\n                \n    //         )\n            \n    //             localStorage.setItem('cartProducts', JSON.stringify(productsInLocalStorage));\n    //             console.log(\"localstorage length==\",localStorage.length);\n    //     }\n    //     else{\n    //         const data1=[\n    //             {\n    //                 productDetail:productDetail,\n    //                 quantity:1\n    //             }\n    //         ];\n    //         localStorage.setItem('cartProducts', JSON.stringify(data1));\n    // }\n    // const c= JSON.parse(localStorage.getItem('cartProducts'));\n    // console.log(\"c==\",c);\n    //     // localStorage.setItem('data1',JSON.stringify(data1));\n\n    //     // const p=JSON.parse(localStorage.getItem('data1'));\n    //     // console.log(\"JSON.stringify(data1)\",JSON.stringify(data1))\n\n    //     // console.log(\"p\",p);\n\n    //     // const data={\n    //     //     productDetail:productDetail,\n    //     //     quantity:1\n    //     // }\n    //     // // console.log(\"datadata\",data);\n    //     // localStorage.setItem('data',JSON.stringify(data));\n    //     // const y=JSON.parse(localStorage.getItem(\"data\"));\n    //     // const y=localStorage.getItem(\"data\")\n    //     // console.log(\"y.quantity\",y);\n    //     // const z=JSON.parse(y);\n    //     // console.log(\"z.quantity\",z.quantity);\n\n    //     // const { cartProduct } = this.state;\n    //     // localStorage.setItem('cartProduct', cartProduct);\n    //     ////console.log(\"cartProduct:::\",this.state.cartProduct,\"----and the cartProduct=\",cartProduct);\n    //     // this.state.cartProduct=cartProduct+1;\n    //     ////console.log(\"cartProduct=====\",this.state.cartProduct);\n    //     // this.setState({cartProduct:this.cartProduct+1});\n        // ////console.log(\"cart value===\",this.cartProduct);\n    }\n    render(){\n        return(\n            \n                <button \n                    className=\"ProductCardwrapperButton\" \n                    style={{\n                            marginLeft:this.props.m,\n                            backgroundColor:this.props.color,\n                            width:this.props.width,\n                            height:this.props.height                          \n                            }}\n                    onClick={this.handleCart}>\n                    Add To Cart\n                </button>\n            \n        );\n    }\n}"]},"metadata":{},"sourceType":"module"}