{"ast":null,"code":"var _jsxFileName = \"/home/neosoft/NeoStore/src/components/LoginReg.js\";\nimport React from \"react\";\nimport Button from \"@material-ui/core/Button\";\nimport ClickAwayListener from \"@material-ui/core/ClickAwayListener\";\nimport Grow from \"@material-ui/core/Grow\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Popper from \"@material-ui/core/Popper\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport MenuList from \"@material-ui/core/MenuList\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport ExpandMoreIcon from \"@material-ui/icons/ExpandMore\";\nimport AccountBoxIcon from \"@material-ui/icons/AccountBox\";\nimport { Link } from \"react-router-dom\";\nimport Logout from \"./Logout\";\nimport swal from \"sweetalert\";\nimport axios from \"axios\";\nimport { BASE_URL } from \"../constants/BaseURL\";\nconst useStyles = makeStyles(theme => ({\n  root: {\n    display: \"flex\"\n  },\n  paper: {\n    marginRight: theme.spacing(2)\n  }\n}));\nexport default function MenuListComposition() {\n  const classes = useStyles();\n  const [open, setOpen] = React.useState(false);\n  const anchorRef = React.useRef(null);\n\n  const handleToggle = () => {\n    setOpen(prevOpen => !prevOpen);\n  };\n\n  const handleClose = event => {\n    if (anchorRef.current && anchorRef.current.contains(event.target)) {\n      return;\n    }\n\n    setOpen(false);\n  };\n\n  const handleLogOut1 = event => {\n    // console.log(\"in handle logout1\");\n    const token = localStorage.getItem('token'); // console.log(\"token::\",token);\n\n    const cartData = JSON.parse(localStorage.getItem(\"cartProducts\")); // console.log(\"cartData==\", cartData);\n\n    let cartdataafterMap = [];\n    console.log(\"cartData\", cartData);\n\n    if (cartData !== null) {\n      cartData.map(val => {\n        let Data1 = {\n          \"_id\": \"\",\n          \"product_id\": \"\",\n          \"quantity\": \"\"\n        };\n\n        if (val[0]) {\n          Data1[\"_id\"] = val[0].productDetail.id;\n          Data1[\"quantity\"] = val[0].quantity;\n          Data1[\"product_id\"] = val[0].productDetail.id;\n          console.log(\"val[0].quantity Data1\", Data1);\n          cartdataafterMap.push(Data1);\n        } else {\n          Data1[\"_id\"] = val.productDetail.id;\n          Data1[\"quantity\"] = val.quantity;\n          Data1[\"product_id\"] = val.productDetail.id;\n          console.log(\"val.quantity Data1\", Data1);\n          cartdataafterMap.push(Data1);\n        }\n      });\n    }\n\n    console.log(\"afetr map cartdataafterMap\", cartdataafterMap);\n    const data = cartdataafterMap ? cartdataafterMap : [];\n    data.push({\n      flag: \"logout\"\n    });\n    console.log(\"data afetr push logout flag\", data); // axios.post(BASE_URL + 'addProductToCartCheckout', data, { headers: { \"Authorization\": \"Brearer \" + token } })\n    // .then(res=>{\n    //     console.log(\"res====\",res.data.message);\n    //     swal(`${res.data.message}`)\n    // })\n    // axios.get(BASE_URL+\"commonProducts\").then(res=>{\n    //   console.log(\"response\",res.data);\n    //   const allProducts = res.data;\n    //   if(allProducts!==null&& allProducts!==''&&allProducts!==undefined)\n    //   {\n    //     allProducts.find((allProducts)=>{\n    //       return \n    //     })\n    //   }\n    // })\n    // axios({\n    //   mathod: `POST`,\n    //   url : `${BASE_URL}addProductToCartCheckout`,\n    //   headers : {'Authorization': `Bearer ${token}`},\n    //   data\n    // })\n    //   axios.post(BASE_URL + \"addProductToCartCheckout\", data,{\n    //     headers : {'Authorization':`Bearer ${token}`} \n    // })\n    // axios ({\n    //           method : 'POST',\n    //           url : `${BASE_URL}addProductToCartCheckout`,\n    //           headers : {'Authorization': `Bearer ${token}`},\n    //           data\n    //       })\n\n    axios.post(BASE_URL + 'addProductToCartCheckout', data, {\n      headers: {\n        \"Authorization\": \"Brearer \" + token\n      }\n    }).then(res => {\n      console.log(\"res====\", res.data.message);\n      swal(`${res.data.message}`);\n    });\n    localStorage.clear();\n\n    if (anchorRef.current && anchorRef.current.contains(event.target)) {\n      return;\n    }\n\n    setOpen(false);\n  };\n\n  function handleListKeyDown(event) {\n    if (event.key === \"Tab\") {\n      event.preventDefault();\n      setOpen(false);\n    }\n  } // return focus to the button when we transitioned from !open -> open\n\n\n  const prevOpen = React.useRef(open);\n  React.useEffect(() => {\n    if (prevOpen.current === true && open === false) {\n      anchorRef.current.focus();\n    }\n\n    prevOpen.current = open;\n  }, [open]);\n  const token = localStorage.getItem(\"token\");\n  console.log(\"token in login\", token); // let displayUserActivity = '';\n\n  return React.createElement(\"div\", {\n    className: classes.root,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147\n    },\n    __self: this\n  }, React.createElement(Button, {\n    style: {\n      color: \"black\",\n      background: \"white\",\n      outline: \"none\",\n      margin: \"10px\",\n      width: \"90px\",\n      height: \"45px\"\n    },\n    ref: anchorRef,\n    \"aria-controls\": open ? \"menu-list-grow\" : undefined,\n    \"aria-haspopup\": \"true\",\n    onClick: handleToggle,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148\n    },\n    __self: this\n  }, React.createElement(AccountBoxIcon, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162\n    },\n    __self: this\n  }), React.createElement(ExpandMoreIcon, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163\n    },\n    __self: this\n  })), React.createElement(Popper, {\n    open: open,\n    anchorEl: anchorRef.current,\n    role: undefined,\n    transition: true,\n    disablePortal: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165\n    },\n    __self: this\n  }, ({\n    TransitionProps,\n    placement\n  }) => React.createElement(Grow, Object.assign({}, TransitionProps, {\n    style: {\n      transformOrigin: placement === \"bottom\" ? \"center top\" : \"center bottom\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173\n    },\n    __self: this\n  }), React.createElement(Paper, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180\n    },\n    __self: this\n  }, React.createElement(ClickAwayListener, {\n    onClickAway: handleClose,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181\n    },\n    __self: this\n  }, React.createElement(MenuList, {\n    autoFocusItem: open,\n    style: {\n      width: \"110px\"\n    },\n    id: \"menu-list-grow\",\n    onKeyDown: handleListKeyDown,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 182\n    },\n    __self: this\n  }, token ? React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189\n    },\n    __self: this\n  }, React.createElement(MenuItem, {\n    onClick: handleClose,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190\n    },\n    __self: this\n  }, React.createElement(Link, {\n    style: {\n      textDecoration: \"none\"\n    },\n    to: {\n      pathname: \"/Order\",\n      state: {\n        show: 1\n      }\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 191\n    },\n    __self: this\n  }, \"Profile\")), React.createElement(MenuItem, {\n    onClick: handleLogOut1,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 203\n    },\n    __self: this\n  }, React.createElement(Link, {\n    style: {\n      textDecoration: \"none\"\n    },\n    to: \"/\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 204\n    },\n    __self: this\n  }, \"Log Out\"))) : React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 210\n    },\n    __self: this\n  }, React.createElement(MenuItem, {\n    onClick: handleClose,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 211\n    },\n    __self: this\n  }, React.createElement(Link, {\n    style: {\n      textDecoration: \"none\"\n    },\n    to: \"/signIn\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 212\n    },\n    __self: this\n  }, \"Log In\")), React.createElement(MenuItem, {\n    onClick: handleClose,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 216\n    },\n    __self: this\n  }, React.createElement(Link, {\n    style: {\n      textDecoration: \"none\"\n    },\n    to: \"/Registration\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 217\n    },\n    __self: this\n  }, \"Register\"))))))))));\n}","map":{"version":3,"sources":["/home/neosoft/NeoStore/src/components/LoginReg.js"],"names":["React","Button","ClickAwayListener","Grow","Paper","Popper","MenuItem","MenuList","makeStyles","ExpandMoreIcon","AccountBoxIcon","Link","Logout","swal","axios","BASE_URL","useStyles","theme","root","display","paper","marginRight","spacing","MenuListComposition","classes","open","setOpen","useState","anchorRef","useRef","handleToggle","prevOpen","handleClose","event","current","contains","target","handleLogOut1","token","localStorage","getItem","cartData","JSON","parse","cartdataafterMap","console","log","map","val","Data1","productDetail","id","quantity","push","data","flag","post","headers","then","res","message","clear","handleListKeyDown","key","preventDefault","useEffect","focus","color","background","outline","margin","width","height","undefined","TransitionProps","placement","transformOrigin","textDecoration","pathname","state","show"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport Button from \"@material-ui/core/Button\";\nimport ClickAwayListener from \"@material-ui/core/ClickAwayListener\";\nimport Grow from \"@material-ui/core/Grow\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Popper from \"@material-ui/core/Popper\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport MenuList from \"@material-ui/core/MenuList\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport ExpandMoreIcon from \"@material-ui/icons/ExpandMore\";\nimport AccountBoxIcon from \"@material-ui/icons/AccountBox\";\nimport { Link } from \"react-router-dom\";\nimport Logout from \"./Logout\";\nimport swal from \"sweetalert\";\nimport axios from \"axios\";\nimport { BASE_URL } from \"../constants/BaseURL\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: \"flex\",\n  },\n  paper: {\n    marginRight: theme.spacing(2),\n  },\n}));\n\nexport default function MenuListComposition() {\n  const classes = useStyles();\n  const [open, setOpen] = React.useState(false);\n  const anchorRef = React.useRef(null);\n\n  const handleToggle = () => {\n    setOpen((prevOpen) => !prevOpen);\n  };\n\n  const handleClose = (event) => {\n    if (anchorRef.current && anchorRef.current.contains(event.target)) {\n      return;\n    }\n\n    setOpen(false);\n  };\n  const handleLogOut1 = (event) => {\n    // console.log(\"in handle logout1\");\n    const token = localStorage.getItem('token');\n    // console.log(\"token::\",token);\n    const cartData = JSON.parse(localStorage.getItem(\"cartProducts\"));\n\n    // console.log(\"cartData==\", cartData);\n    let cartdataafterMap=[];\n    console.log(\"cartData\",cartData);\n    if(cartData!==null){\n      cartData.map(val=>{\n        let Data1={\n          \"_id\":\"\",\n          \"product_id\":\"\",\n          \"quantity\":\"\"\n        };\n        if(val[0]){\n          Data1[\"_id\"]=val[0].productDetail.id\n          Data1[\"quantity\"]=val[0].quantity;\n          Data1[\"product_id\"]=val[0].productDetail.id\n          console.log(\"val[0].quantity Data1\",Data1);\n          cartdataafterMap.push(Data1)\n        }\n        else{\n          Data1[\"_id\"]=val.productDetail.id\n          Data1[\"quantity\"]=val.quantity;\n          Data1[\"product_id\"]=val.productDetail.id\n          console.log(\"val.quantity Data1\",Data1);\n          cartdataafterMap.push(Data1)\n        }\n       \n      })\n    }\n    \n    console.log(\"afetr map cartdataafterMap\",cartdataafterMap);\n    const data = cartdataafterMap ? cartdataafterMap : [];\n    data.push({ flag:\"logout\" });\n    console.log(\"data afetr push logout flag\", data);\n    // axios.post(BASE_URL + 'addProductToCartCheckout', data, { headers: { \"Authorization\": \"Brearer \" + token } })\n    // .then(res=>{\n    //     console.log(\"res====\",res.data.message);\n    //     swal(`${res.data.message}`)\n    // })\n    // axios.get(BASE_URL+\"commonProducts\").then(res=>{\n    //   console.log(\"response\",res.data);\n    //   const allProducts = res.data;\n    //   if(allProducts!==null&& allProducts!==''&&allProducts!==undefined)\n    //   {\n    //     allProducts.find((allProducts)=>{\n    //       return \n    //     })\n    //   }\n      \n    // })\n    // axios({\n    //   mathod: `POST`,\n    //   url : `${BASE_URL}addProductToCartCheckout`,\n    //   headers : {'Authorization': `Bearer ${token}`},\n    //   data\n    // })\n  //   axios.post(BASE_URL + \"addProductToCartCheckout\", data,{\n  //     headers : {'Authorization':`Bearer ${token}`} \n  // })\n  // axios ({\n  //           method : 'POST',\n  //           url : `${BASE_URL}addProductToCartCheckout`,\n  //           headers : {'Authorization': `Bearer ${token}`},\n  //           data\n  //       })\n  axios.post(BASE_URL + 'addProductToCartCheckout', data, { headers: { \"Authorization\": \"Brearer \" + token } })\n  .then(res=>{\n      console.log(\"res====\",res.data.message);\n      swal(`${res.data.message}`)\n  })\n\n    localStorage.clear();\n    if (anchorRef.current && anchorRef.current.contains(event.target)) {\n      return;\n    }\n\n    setOpen(false);\n  };\n  function handleListKeyDown(event) {\n    if (event.key === \"Tab\") {\n      event.preventDefault();\n      setOpen(false);\n    }\n  }\n\n  // return focus to the button when we transitioned from !open -> open\n  const prevOpen = React.useRef(open);\n  React.useEffect(() => {\n    if (prevOpen.current === true && open === false) {\n      anchorRef.current.focus();\n    }\n\n    prevOpen.current = open;\n  }, [open]);\n  const token = localStorage.getItem(\"token\");\n  console.log(\"token in login\", token);\n  // let displayUserActivity = '';\n\n  return (\n    <div className={classes.root}>\n      <div>\n        <Button\n          style={{\n            color: \"black\",\n            background: \"white\",\n            outline: \"none\",\n            margin: \"10px\",\n            width: \"90px\",\n            height: \"45px\",\n          }}\n          ref={anchorRef}\n          aria-controls={open ? \"menu-list-grow\" : undefined}\n          aria-haspopup=\"true\"\n          onClick={handleToggle}\n        >\n          <AccountBoxIcon />\n          <ExpandMoreIcon />\n        </Button>\n        <Popper\n          open={open}\n          anchorEl={anchorRef.current}\n          role={undefined}\n          transition\n          disablePortal\n        >\n          {({ TransitionProps, placement }) => (\n            <Grow\n              {...TransitionProps}\n              style={{\n                transformOrigin:\n                  placement === \"bottom\" ? \"center top\" : \"center bottom\",\n              }}\n            >\n              <Paper>\n                <ClickAwayListener onClickAway={handleClose}>\n                  <MenuList\n                    autoFocusItem={open}\n                    style={{ width: \"110px\" }}\n                    id=\"menu-list-grow\"\n                    onKeyDown={handleListKeyDown}\n                  >\n                    {token ? (\n                      <div>\n                        <MenuItem onClick={handleClose}>\n                          <Link\n                            style={{ textDecoration: \"none\" }}\n                            to={{\n                              pathname: \"/Order\",\n                              state: {\n                                show: 1,\n                              },\n                            }}\n                          >\n                            Profile\n                          </Link>\n                        </MenuItem>\n                        <MenuItem onClick={handleLogOut1}>\n                          <Link style={{ textDecoration: \"none\" }} to=\"/\">\n                            Log Out\n                          </Link>\n                        </MenuItem>\n                      </div>\n                    ) : (\n                      <div>\n                        <MenuItem onClick={handleClose}>\n                          <Link style={{ textDecoration: \"none\" }} to=\"/signIn\">\n                            Log In\n                          </Link>\n                        </MenuItem>\n                        <MenuItem onClick={handleClose}>\n                          <Link\n                            style={{ textDecoration: \"none\" }}\n                            to=\"/Registration\"\n                          >\n                            Register\n                          </Link>\n                        </MenuItem>\n                      </div>\n                    )}\n\n                    {/* <MenuItem onClick={handleClose}>Logout</MenuItem> */}\n                  </MenuList>\n                </ClickAwayListener>\n              </Paper>\n            </Grow>\n          )}\n        </Popper>\n      </div>\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}