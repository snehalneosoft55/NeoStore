{"ast":null,"code":"import * as actionTypes from \"../lib/constants/actionTypes\"; // import {BASE_URL} from '../constants/BaseURL'\n// import axios from 'axios'\n\nimport swal from \"sweetalert\";\n\nconst getcartdataSuccess = data => ({\n  type: actionTypes.GET_CART_DATA,\n  payload: data\n});\n\nexport function getcartdata(productDetails) {\n  return function (dispatch) {\n    const myArray = localStorage.getItem(\"cartProducts\");\n    console.log(\"myArray: \", JSON.parse(myArray));\n    let productsInLocalStorage,\n        flag = false;\n\n    if (myArray !== null) {\n      productsInLocalStorage = JSON.parse(myArray);\n      console.log(\"in cart data action===productsInLocalStorage\", productsInLocalStorage);\n      productsInLocalStorage.map((val, i) => {\n        let x = val;\n        console.log(\"x==in cart data action\", x);\n        console.log(\"x---\", x);\n\n        if (i === 0) {\n          console.log(\"x\"); // console.log(\"x==\", x[0].productDetail.id);\n\n          let z = x[0].productDetail.id;\n          console.log(\"productDetails\", productDetails);\n          if (z === productDetails[i].productDetail.id) flag = true;\n        } else {\n          console.log(\"x in else==\", x[0].productDetail.id);\n          let a = x[0].productDetail.id;\n          console.log(\"in else productDetails\", productDetails[0].productDetail.id);\n\n          if (a === productDetails[0].productDetail.id) {\n            flag = true;\n          }\n        } // if(x === productDetails.productDetail.id){\n        //         flag = true;\n        // }\n\n      });\n\n      if (flag === false) {\n        productsInLocalStorage.push(productDetails);\n        swal(\"Added to cart\");\n        console.log(\"productsInLocalStorage\", productsInLocalStorage.length); // openSnackbar('Added to cart')\n        // console.log(\"Modified myArray productsInLocalStorage: \",productsInLocalStorage);\n      } else {\n        swal(\"Already in cart\");\n      }\n\n      localStorage.setItem(\"cartProducts\", JSON.stringify(productsInLocalStorage));\n    } else {\n      console.log(\"productDetails\", productDetails);\n      localStorage.setItem(\"cartProducts\", JSON.stringify(productDetails));\n      console.log(\"cartProducts in action\", JSON.parse(localStorage.getItem('cartProducts')));\n    }\n\n    return dispatch(getcartdataSuccess(productsInLocalStorage));\n  };\n}","map":{"version":3,"sources":["/home/neosoft/NeoStore/src/actions/cartDataAction.js"],"names":["actionTypes","swal","getcartdataSuccess","data","type","GET_CART_DATA","payload","getcartdata","productDetails","dispatch","myArray","localStorage","getItem","console","log","JSON","parse","productsInLocalStorage","flag","map","val","i","x","z","productDetail","id","a","push","length","setItem","stringify"],"mappings":"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","sourcesContent":["import * as actionTypes from \"../lib/constants/actionTypes\";\n// import {BASE_URL} from '../constants/BaseURL'\n\n// import axios from 'axios'\nimport swal from \"sweetalert\";\n\nconst getcartdataSuccess = (data) => ({\n  type: actionTypes.GET_CART_DATA,\n  payload: data,\n});\n\nexport function getcartdata(productDetails) {\n  return function (dispatch) {\n    const myArray = localStorage.getItem(\"cartProducts\");\n    console.log(\"myArray: \", JSON.parse(myArray));\n    let productsInLocalStorage,\n      flag = false;\n\n    if (myArray !== null) {\n      productsInLocalStorage = JSON.parse(myArray);\n      console.log(\n        \"in cart data action===productsInLocalStorage\",\n        productsInLocalStorage\n      );\n\n      productsInLocalStorage.map((val, i) => {\n        let x = val;\n        console.log(\"x==in cart data action\", x);\n        console.log(\"x---\", x);\n        if (i === 0) {\n          console.log(\"x\");\n          // console.log(\"x==\", x[0].productDetail.id);\n          let z = x[0].productDetail.id;\n          console.log(\"productDetails\", productDetails);\n          if (z === productDetails[i].productDetail.id) flag = true;\n        } else {\n          console.log(\"x in else==\", x[0].productDetail.id);\n          let a = x[0].productDetail.id;\n          console.log(\n            \"in else productDetails\",\n            productDetails[0].productDetail.id\n          );\n          if (a === productDetails[0].productDetail.id) {\n            flag = true;\n          }\n        }\n        // if(x === productDetails.productDetail.id){\n        //         flag = true;\n\n        // }\n      });\n\n      if (flag === false) {\n        productsInLocalStorage.push(productDetails);\n        swal(\"Added to cart\");\n        console.log(\"productsInLocalStorage\", productsInLocalStorage.length);\n        // openSnackbar('Added to cart')\n        // console.log(\"Modified myArray productsInLocalStorage: \",productsInLocalStorage);\n      } else {\n        swal(\"Already in cart\");\n      }\n      localStorage.setItem(\n        \"cartProducts\",\n        JSON.stringify(productsInLocalStorage)\n      );\n    } else {\n      console.log(\"productDetails\", productDetails);\n      localStorage.setItem(\"cartProducts\", JSON.stringify(productDetails));\n      console.log(\"cartProducts in action\",JSON.parse(localStorage.getItem('cartProducts')));\n    }\n    return dispatch(getcartdataSuccess(productsInLocalStorage));\n  };\n}\n"]},"metadata":{},"sourceType":"module"}