{"ast":null,"code":"var _jsxFileName = \"/home/neosoft/NeoStore/src/components/signIn.js\";\nimport React from 'react';\nimport { withRouter } from 'react-router-dom';\nimport { Container, Row, Col, Card } from 'react-bootstrap';\nimport { Link } from 'react-router-dom';\nimport { Form, Button } from 'react-bootstrap';\nimport { loginUserInfo } from '../actions/loginAction';\nimport { connect } from 'react-redux';\nimport { RegEx } from './RegEx';\nimport Inputs from './inputs';\nimport Footer from './footer';\nimport HomeNavBar from './navbar';\nimport { Redirect } from \"react-router-dom\";\nimport { getCartDataFromApi } from '../actions/getCartDatafromAPIAction';\nimport axios from 'axios';\nimport { BASE_URL } from '../constants/BaseURL'; // import {status} from '../actions/loginAction'\n\nlet valid = true;\nlet forbutton;\n\nconst validateForm = users => {\n  // ////console.log(\"in validateForm\");\n  Object.values(users).forEach(val => {\n    if (val === '') {\n      valid = false;\n    } else {\n      valid = true;\n    }\n  });\n  return valid;\n}; //Registration page\n\n\nclass signIn extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handleChange = event => {\n      event.preventDefault(); // ////console.log(\"in handlechange\");\n\n      const {\n        name,\n        value\n      } = event.target;\n      let errors = this.state.errors;\n      let users = this.state.users; // ////console.log(users);     \n\n      switch (name) {\n        case 'Email':\n          if (value === '') {\n            errors.email = \"Required\";\n          } else if (!RegEx.Email.test(value)) {\n            ////console.log('no error in email');\n            errors.email = 'Enter valid email';\n          } else {\n            errors.email = '';\n            users.email = value;\n          }\n\n          break;\n\n        case 'Password':\n          if (value === '') {\n            errors.password = 'Required';\n          } else if (value.length < 7 || value.length > 15) {\n            errors.password = 'Password length must between 7 to 15';\n          } else {\n            errors.password = '';\n            users.password = value;\n          }\n\n          break;\n\n        default:\n          break;\n      }\n\n      this.setState({\n        errors,\n        users\n      });\n    };\n\n    this.handleSubmit = event => {\n      event.preventDefault();\n\n      if (validateForm(this.state.users)) {\n        forbutton = true;\n        this.setState({\n          submitError: ''\n        });\n        const userData1 = {\n          email: this.state.users.email,\n          pass: this.state.users.password\n        };\n        this.props.loginUserInfo(userData1);\n        const token = localStorage.getItem(\"token\");\n\n        if (token) {\n          // this.props.history.push('/');\n          //             const res=axios\n          //   .get(BASE_URL + \"getCartData\", {\n          //     headers: { Authorization: `Bearer ${token}` }\n          //   });\n          //   console.log(\"response***\",res);\n          // //   .then(({res.data})=>{\n          // //       console.log(\"in response\",res);\n          // //   })\n          // .then(()=>{\n          //                     const { cartDataFromApi } = this.props;\n          //       console.log(\"cartDataFromApi\", cartDataFromApi);\n          // // console.log(\"res in sign in from getcart data from api\",res);\n          //                 });\n          console.log(\"in if\");\n          axios.get(BASE_URL + \"getCartData\", {\n            headers: {\n              Authorization: `Bearer ${token}`\n            }\n          }).then(res => {\n            console.log(\"Cart API response \", res.data.product_details);\n            dispatch(getCartDataFromApiSuccess(res.data.product_details));\n          }).catch(error => {\n            swal(`Error : ${error.message}`);\n          }); // this.props.getCartDataFromApi(token);\n\n          this.props.history.push(\"/\");\n        } // ////console.log(\"for history check\",this.props.history);\n        // const { userData } = this.props;\n        // ////console.log(\"valid form\",\"forbutton:\",forbutton, JSON.stringify(this.state.users));\n\n      } else {\n        forbutton = false;\n        this.setState({\n          submitError: \"Enter values\"\n        }); ////console.log(\"Invalid form\",\"forbutton:\",forbutton);\n      }\n    };\n\n    this.state = {\n      users: {\n        email: '',\n        password: ''\n      },\n      errors: {\n        email: \"\",\n        password: \"\"\n      },\n      submitError: '',\n      productsInCart: ''\n    };\n  }\n  /**\r\n   * \r\n   * @param {*} event \r\n   */\n\n\n  render() {\n    const {\n      userData\n    } = this.props; ////console.log(\"userData::::\",userData);\n\n    const {\n      errors\n    } = this.state;\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176\n      },\n      __self: this\n    }, React.createElement(HomeNavBar, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177\n      },\n      __self: this\n    }), React.createElement(Container, {\n      fluid: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178\n      },\n      __self: this\n    }, React.createElement(\"hr\", {\n      className: \"line\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179\n      },\n      __self: this\n    }), React.createElement(Row, {\n      className: \"Signup-wrapper\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180\n      },\n      __self: this\n    }, React.createElement(Card, {\n      className: \"signupInfo_card\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181\n      },\n      __self: this\n    }, React.createElement(Row, {\n      className: \"signUpInfo\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      onSubmit: this.handleSubmit,\n      action: \"./signIn.js\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183\n      },\n      __self: this\n    }, React.createElement(Form.Group, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      className: \"registrationLabel\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185\n      },\n      __self: this\n    }, \"Sign In\"), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186\n      },\n      __self: this\n    }), React.createElement(Inputs, {\n      name: \"Email\",\n      type: \"Email\",\n      placeholder: \"Email\",\n      value: this.state.value,\n      handleChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      className: \"errorShow\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194\n      },\n      __self: this\n    }, errors.email), React.createElement(Inputs, {\n      name: \"Password\",\n      type: \"password\",\n      maxlength: \"10\",\n      placeholder: \"Password\",\n      value: this.state.value,\n      handleChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      className: \"errorShow\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 203\n      },\n      __self: this\n    }, errors.password), React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 204\n      },\n      __self: this\n    }, React.createElement(Col, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 205\n      },\n      __self: this\n    }, React.createElement(Button, {\n      type: \"submit\",\n      className: \"btn btn-primary btn-block submitButton\",\n      onClick: this.handleSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 207\n      },\n      __self: this\n    }, \"Submit\"), React.createElement(\"span\", {\n      className: \"errorShow\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 213\n      },\n      __self: this\n    }, this.state.submitError)), React.createElement(Col, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 215\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"f\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 216\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: \"/ForgotPassword\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 217\n      },\n      __self: this\n    }, \"Forgot Password\")))))))))), React.createElement(Footer, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 227\n      },\n      __self: this\n    }));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  ////console.log(\"IN MAP STATE TO PROPS::::::\")\n  return {\n    userData: state.userData,\n    cartDataFromApi: state.cartDtaFromApiReducer\n  };\n};\n\nconst mapDispatchToProps = {\n  loginUserInfo,\n  getCartDataFromApi\n};\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(signIn));","map":{"version":3,"sources":["/home/neosoft/NeoStore/src/components/signIn.js"],"names":["React","withRouter","Container","Row","Col","Card","Link","Form","Button","loginUserInfo","connect","RegEx","Inputs","Footer","HomeNavBar","Redirect","getCartDataFromApi","axios","BASE_URL","valid","forbutton","validateForm","users","Object","values","forEach","val","signIn","Component","constructor","props","handleChange","event","preventDefault","name","value","target","errors","state","email","Email","test","password","length","setState","handleSubmit","submitError","userData1","pass","token","localStorage","getItem","console","log","get","headers","Authorization","then","res","data","product_details","dispatch","getCartDataFromApiSuccess","catch","error","swal","message","history","push","productsInCart","render","userData","mapStateToProps","cartDataFromApi","cartDtaFromApiReducer","mapDispatchToProps"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport {withRouter} from 'react-router-dom'\r\n\r\nimport {Container,Row,Col, Card} from 'react-bootstrap';\r\nimport { Link } from 'react-router-dom';\r\nimport { Form,Button } from 'react-bootstrap';\r\nimport {loginUserInfo}  from '../actions/loginAction'\r\nimport { connect } from 'react-redux'\r\n\r\nimport {RegEx} from './RegEx';\r\nimport Inputs from './inputs';\r\nimport Footer from './footer';\r\nimport HomeNavBar from './navbar';\r\nimport { Redirect } from \"react-router-dom\";\r\nimport {getCartDataFromApi} from '../actions/getCartDatafromAPIAction'\r\nimport axios from 'axios';\r\nimport {BASE_URL} from '../constants/BaseURL'\r\n\r\n// import {status} from '../actions/loginAction'\r\n\r\nlet valid = true;\r\nlet forbutton;\r\nconst validateForm = (users) => {\r\n    // ////console.log(\"in validateForm\");\r\n    Object.values(users).forEach(\r\n        (val) => {\r\n            if(val===''){\r\n                valid = false;\r\n            }\r\n            else{\r\n                valid=true;\r\n            }\r\n        }  \r\n    );\r\n    return valid;\r\n}\r\n//Registration page\r\nclass signIn extends React.Component\r\n{\r\n    constructor(props)\r\n    {\r\n        super(props);\r\n        this.state=\r\n                    {\r\n                        users:\r\n                        { \r\n                            email:'',\r\n                            password:'',\r\n                        },\r\n                        errors:\r\n                        {\r\n                            email:\"\",\r\n                            password:\"\",\r\n                        },\r\n                        submitError:'',\r\n                        productsInCart:''\r\n                    }\r\n    }\r\n    \r\n    /**\r\n     * \r\n     * @param {*} event \r\n     */\r\n    handleChange = (event) => \r\n    {\r\n        event.preventDefault();\r\n        // ////console.log(\"in handlechange\");\r\n        const {name , value} = event.target;\r\n        let errors = this.state.errors;\r\n        let users =this.state.users;\r\n        // ////console.log(users);     \r\n        switch(name)\r\n        {\r\n            case 'Email':\r\n                if(value==='')\r\n                {\r\n                    errors.email=\"Required\";  \r\n                }\r\n                else if(!((RegEx.Email).test(value)))\r\n                {\r\n                    ////console.log('no error in email');\r\n                    errors.email = 'Enter valid email' ;\r\n                }\r\n                else\r\n                {\r\n                    errors.email ='';\r\n                    users.email=value;\r\n                }\r\n                break;\r\n                case 'Password' :\r\n                if(value===''){\r\n                    errors.password = 'Required';  \r\n                }\r\n                else if(value.length<7 || value.length>15){\r\n                    errors.password = 'Password length must between 7 to 15';\r\n                    \r\n                }\r\n                \r\n                else{\r\n                    errors.password = '';\r\n                    users.password=value;\r\n                }\r\n                break;\r\n            \r\n            default:\r\n                break;\r\n            }\r\n        this.setState({errors,users});\r\n    }\r\n    handleSubmit = (event) => {\r\n        event.preventDefault();\r\n        if(validateForm(this.state.users)){\r\n            forbutton=true;\r\n            this.setState({submitError:''});\r\n            const userData1 = {\r\n                email:this.state.users.email,\r\n                pass:this.state.users.password,\r\n            };\r\n            this.props.loginUserInfo(userData1);\r\n            const token = localStorage.getItem(\"token\");\r\n            if(token){\r\n                // this.props.history.push('/');\r\n    //             const res=axios\r\n    //   .get(BASE_URL + \"getCartData\", {\r\n    //     headers: { Authorization: `Bearer ${token}` }\r\n    //   });\r\n    //   console.log(\"response***\",res);\r\n    // //   .then(({res.data})=>{\r\n    // //       console.log(\"in response\",res);\r\n    // //   })\r\n                \r\n                \r\n// .then(()=>{\r\n//                     const { cartDataFromApi } = this.props;\r\n//       console.log(\"cartDataFromApi\", cartDataFromApi);\r\n// // console.log(\"res in sign in from getcart data from api\",res);\r\n//                 });\r\n                console.log(\"in if\");\r\n                axios\r\n      .get(BASE_URL + \"getCartData\", {\r\n        headers: { Authorization: `Bearer ${token}` }\r\n      })\r\n      .then((res) => {\r\n        console.log(\"Cart API response \", res.data.product_details);\r\n        dispatch(getCartDataFromApiSuccess(res.data.product_details));\r\n\r\n      })\r\n      .catch((error) => {\r\n        swal(`Error : ${error.message}`);\r\n      });\r\n\r\n                // this.props.getCartDataFromApi(token);\r\n                this.props.history.push(\"/\");\r\n                \r\n                \r\n            }\r\n            \r\n\r\n            // ////console.log(\"for history check\",this.props.history);\r\n            // const { userData } = this.props;\r\n            // ////console.log(\"valid form\",\"forbutton:\",forbutton, JSON.stringify(this.state.users));\r\n        }\r\n        else\r\n        {\r\n            forbutton=false;\r\n            this.setState({submitError:\"Enter values\"});\r\n            ////console.log(\"Invalid form\",\"forbutton:\",forbutton);\r\n        }\r\n    }\r\n    render()\r\n    {\r\n        const { userData } = this.props;\r\n        ////console.log(\"userData::::\",userData);\r\n        const {errors} = this.state;\r\n        return(\r\n        <div>\r\n            <HomeNavBar></HomeNavBar>\r\n            <Container fluid={true} >\r\n                <hr className=\"line\"></hr>\r\n                <Row className=\"Signup-wrapper\">\r\n                    <Card className=\"signupInfo_card\">\r\n                        <Row className=\"signUpInfo\">\r\n                            <form onSubmit={this.handleSubmit} action=\"./signIn.js\">\r\n                            <Form.Group >\r\n                                <h1 className=\"registrationLabel\">Sign In</h1>\r\n                                <br/><br/>\r\n                                <Inputs \r\n                                    name=\"Email\" \r\n                                    type=\"Email\" \r\n                                    placeholder=\"Email\" \r\n                                    value={this.state.value} \r\n                                    handleChange={this.handleChange}\r\n                                />\r\n                                <span className=\"errorShow\">{errors.email}</span>\r\n                                <Inputs \r\n                                    name=\"Password\" \r\n                                    type=\"password\" \r\n                                    maxlength=\"10\" \r\n                                    placeholder=\"Password\" \r\n                                    value={this.state.value} \r\n                                    handleChange={this.handleChange}\r\n                                />\r\n                                <span className=\"errorShow\">{errors.password}</span>\r\n                                <Row>\r\n                                    <Col>\r\n                                    {/* <Link></Link> */}\r\n                                        <Button \r\n                                            type=\"submit\" \r\n                                            className=\"btn btn-primary btn-block submitButton\" \r\n                                            onClick={this.handleSubmit}>\r\n                                            Submit\r\n                                        </Button>\r\n                                        <span className=\"errorShow\">{this.state.submitError}</span>\r\n                                    </Col>\r\n                                    <Col>\r\n                                        <div className=\"f\">\r\n                                            <Link to=\"/ForgotPassword\" >Forgot Password</Link>    \r\n                                        </div>\r\n                                    </Col>\r\n                                </Row>\r\n                            </Form.Group>\r\n                            </form>\r\n                        </Row>\r\n                    </Card>\r\n                </Row>\r\n            </Container>\r\n        <Footer/>\r\n        </div>\r\n        );\r\n    }\r\n}\r\nconst mapStateToProps = state => \r\n{\r\n    ////console.log(\"IN MAP STATE TO PROPS::::::\")\r\n    return(\r\n        {\r\n            userData: state.userData,\r\n            cartDataFromApi: state.cartDtaFromApiReducer\r\n          }\r\n    );\r\n}\r\n\r\n\r\n  const mapDispatchToProps = {\r\n    loginUserInfo,\r\n    getCartDataFromApi\r\n};\r\nexport default withRouter(connect(\r\n    mapStateToProps,\r\n    mapDispatchToProps\r\n  )(signIn));"]},"metadata":{},"sourceType":"module"}