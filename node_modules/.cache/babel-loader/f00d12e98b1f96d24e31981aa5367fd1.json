{"ast":null,"code":"import * as actionTypes from \"../lib/constants/actionTypes\"; // import {BASE_URL} from '../constants/BaseURL'\n// import axios from 'axios'\n\nimport swal from \"sweetalert\";\n\nconst getcartdataSuccess = data => ({\n  type: actionTypes.GET_CART_DATA,\n  payload: data\n});\n\nexport function getcartdata(productDetails) {\n  // console.log(\"productDetails to add in localstorage\",productDetails);\n  return function (dispatch) {\n    const myArray = localStorage.getItem(\"cartProducts\"); // console.log(\"myArray: \", JSON.parse(myArray));\n\n    let productsInLocalStorage,\n        flag = false;\n\n    if (myArray !== null && myArray !== '') {\n      productsInLocalStorage = JSON.parse(myArray);\n      console.log(\"in cart data action===productsInLocalStorage\", productsInLocalStorage);\n      productsInLocalStorage.map((val, i) => {\n        let x = val; // console.log(\"x==in cart data action\", x);\n        // console.log(\"x---\", x);\n        // console.log(\"x\");\n        // console.log(\"x==\", x[0].productDetail.id);\n\n        let z = x.productDetail.id; // console.log(\"productDetails\", productDetails);\n\n        if (z === productDetails.productDetail.id) flag = true; // else {\n        //   console.log(\"x in else==\", x.productDetail.id);\n        //   let a = x[0].productDetail.id;\n        //   console.log(\n        //     \"in else productDetails\",\n        //     productDetails[0].productDetail.id\n        //   );\n        //   if (a === productDetails[0].productDetail.id) {\n        //     flag = true;\n        //   }\n        // }\n        // if(x === productDetails.productDetail.id){\n        //         flag = true;\n        // }\n      });\n\n      if (flag === false) {\n        productsInLocalStorage.push(productDetails);\n        swal(\"Added to cart\"); // console.log(\"productsInLocalStorage\", productsInLocalStorage.length);\n        // openSnackbar('Added to cart')\n        // console.log(\"Modified myArray productsInLocalStorage: \",productsInLocalStorage);\n      } else {\n        swal(\"Already in cart\");\n      }\n\n      localStorage.setItem(\"cartProducts\", JSON.stringify(productsInLocalStorage)); // console.log(\"cartdata in localstorage==]]\",JSON.parse(localStorage.getItem('cartProducts')));\n    } else {\n      // console.log(\"productDetails\", productDetails);\n      localStorage.setItem(\"cartProducts\", JSON.stringify(productDetails)); // console.log(\"cartProducts in action\",JSON.parse(localStorage.getItem('cartProducts')));\n    }\n\n    return dispatch(getcartdataSuccess(productsInLocalStorage));\n  };\n}","map":{"version":3,"sources":["/home/neosoft/NeoStore/src/actions/cartDataAction.js"],"names":["actionTypes","swal","getcartdataSuccess","data","type","GET_CART_DATA","payload","getcartdata","productDetails","dispatch","myArray","localStorage","getItem","productsInLocalStorage","flag","JSON","parse","console","log","map","val","i","x","z","productDetail","id","push","setItem","stringify"],"mappings":"AAAA,OAAO,KAAKA,WAAZ,MAA6B,8BAA7B,C,CACA;AAEA;;AACA,OAAOC,IAAP,MAAiB,YAAjB;;AAEA,MAAMC,kBAAkB,GAAIC,IAAD,KAAW;AACpCC,EAAAA,IAAI,EAAEJ,WAAW,CAACK,aADkB;AAEpCC,EAAAA,OAAO,EAAEH;AAF2B,CAAX,CAA3B;;AAKA,OAAO,SAASI,WAAT,CAAqBC,cAArB,EAAqC;AAC1C;AACA,SAAO,UAAUC,QAAV,EAAoB;AACzB,UAAMC,OAAO,GAAGC,YAAY,CAACC,OAAb,CAAqB,cAArB,CAAhB,CADyB,CAEzB;;AACA,QAAIC,sBAAJ;AAAA,QACEC,IAAI,GAAG,KADT;;AAGA,QAAIJ,OAAO,KAAK,IAAZ,IAAkBA,OAAO,KAAG,EAAhC,EAAoC;AAClCG,MAAAA,sBAAsB,GAAGE,IAAI,CAACC,KAAL,CAAWN,OAAX,CAAzB;AACAO,MAAAA,OAAO,CAACC,GAAR,CACE,8CADF,EAEEL,sBAFF;AAKAA,MAAAA,sBAAsB,CAACM,GAAvB,CAA2B,CAACC,GAAD,EAAMC,CAAN,KAAY;AACrC,YAAIC,CAAC,GAAGF,GAAR,CADqC,CAErC;AACA;AAEE;AACA;;AACA,YAAIG,CAAC,GAAGD,CAAC,CAACE,aAAF,CAAgBC,EAAxB,CAPmC,CAQnC;;AACA,YAAIF,CAAC,KAAKf,cAAc,CAACgB,aAAf,CAA6BC,EAAvC,EAA2CX,IAAI,GAAG,IAAP,CATR,CAWrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACD,OA1BD;;AA4BA,UAAIA,IAAI,KAAK,KAAb,EAAoB;AAClBD,QAAAA,sBAAsB,CAACa,IAAvB,CAA4BlB,cAA5B;AACAP,QAAAA,IAAI,CAAC,eAAD,CAAJ,CAFkB,CAGlB;AACA;AACA;AACD,OAND,MAMO;AACLA,QAAAA,IAAI,CAAC,iBAAD,CAAJ;AACD;;AACDU,MAAAA,YAAY,CAACgB,OAAb,CACE,cADF,EAEEZ,IAAI,CAACa,SAAL,CAAef,sBAAf,CAFF,EA5CkC,CAgDlC;AACD,KAjDD,MAiDO;AACL;AACAF,MAAAA,YAAY,CAACgB,OAAb,CAAqB,cAArB,EAAqCZ,IAAI,CAACa,SAAL,CAAepB,cAAf,CAArC,EAFK,CAGL;AACD;;AACD,WAAOC,QAAQ,CAACP,kBAAkB,CAACW,sBAAD,CAAnB,CAAf;AACD,GA7DD;AA8DD","sourcesContent":["import * as actionTypes from \"../lib/constants/actionTypes\";\n// import {BASE_URL} from '../constants/BaseURL'\n\n// import axios from 'axios'\nimport swal from \"sweetalert\";\n\nconst getcartdataSuccess = (data) => ({\n  type: actionTypes.GET_CART_DATA,\n  payload: data,\n});\n\nexport function getcartdata(productDetails) {\n  // console.log(\"productDetails to add in localstorage\",productDetails);\n  return function (dispatch) {\n    const myArray = localStorage.getItem(\"cartProducts\");\n    // console.log(\"myArray: \", JSON.parse(myArray));\n    let productsInLocalStorage,\n      flag = false;\n\n    if (myArray !== null&&myArray!=='') {\n      productsInLocalStorage = JSON.parse(myArray);\n      console.log(\n        \"in cart data action===productsInLocalStorage\",\n        productsInLocalStorage\n      );\n\n      productsInLocalStorage.map((val, i) => {\n        let x = val;\n        // console.log(\"x==in cart data action\", x);\n        // console.log(\"x---\", x);\n        \n          // console.log(\"x\");\n          // console.log(\"x==\", x[0].productDetail.id);\n          let z = x.productDetail.id;\n          // console.log(\"productDetails\", productDetails);\n          if (z === productDetails.productDetail.id) flag = true;\n        \n        // else {\n        //   console.log(\"x in else==\", x.productDetail.id);\n        //   let a = x[0].productDetail.id;\n        //   console.log(\n        //     \"in else productDetails\",\n        //     productDetails[0].productDetail.id\n        //   );\n        //   if (a === productDetails[0].productDetail.id) {\n        //     flag = true;\n        //   }\n        // }\n        // if(x === productDetails.productDetail.id){\n        //         flag = true;\n\n        // }\n      });\n\n      if (flag === false) {\n        productsInLocalStorage.push(productDetails);\n        swal(\"Added to cart\");\n        // console.log(\"productsInLocalStorage\", productsInLocalStorage.length);\n        // openSnackbar('Added to cart')\n        // console.log(\"Modified myArray productsInLocalStorage: \",productsInLocalStorage);\n      } else {\n        swal(\"Already in cart\");\n      }\n      localStorage.setItem(\n        \"cartProducts\",\n        JSON.stringify(productsInLocalStorage)\n      );\n      // console.log(\"cartdata in localstorage==]]\",JSON.parse(localStorage.getItem('cartProducts')));\n    } else {\n      // console.log(\"productDetails\", productDetails);\n      localStorage.setItem(\"cartProducts\", JSON.stringify(productDetails));\n      // console.log(\"cartProducts in action\",JSON.parse(localStorage.getItem('cartProducts')));\n    }\n    return dispatch(getcartdataSuccess(productsInLocalStorage));\n  };\n}\n"]},"metadata":{},"sourceType":"module"}