{"ast":null,"code":"var _jsxFileName = \"/home/neosoft/NeoStore/src/components/AddToCart.js\";\nimport React from \"react\";\nimport { withSnackbar } from \"react-simple-snackbar\";\nimport swal from \"sweetalert\";\nexport default class AddToCart extends React.Component {\n  constructor() {\n    super();\n\n    this.handleCart = async e => {\n      const productData = this.props;\n      const productDetail = productData.ProductData;\n      console.log(\"id==\", productDetail);\n      const productDetails = [{\n        productDetail: productDetail,\n        quantity: 1\n      }];\n      const {\n        openSnackbar,\n        closeSnackbar\n      } = this.props;\n      console.log(\"productdetails====\");\n      const myArray = await localStorage.getItem(\"cartProducts\"); // console.log(\"myArray: \",JSON.parse(myArray));\n\n      let productsInLocalStorage,\n          flag = false;\n\n      if (myArray !== null) {\n        productsInLocalStorage = JSON.parse(myArray);\n        console.log(\"productsInLocalStorage\", productsInLocalStorage);\n        productsInLocalStorage.map((val, i) => {\n          let x = val; // console.log(\"x==\",x.productDetail.id)\n\n          if (i === 0) {\n            console.log(\"x\");\n            console.log(\"x==\", x[0].productDetail.id);\n            let z = x[0].productDetail.id;\n            console.log(\"productDetails\", productDetails);\n            if (z === productDetails[i].productDetail.id) flag = true;\n          } else {\n            console.log(\"x in else==\", x[0].productDetail.id);\n            let a = x[0].productDetail.id;\n            console.log(\"in else productDetails\", productDetails[0].productDetail.id);\n\n            if (a === productDetails[0].productDetail.id) {\n              flag = true;\n            }\n          } // if(x === productDetails.productDetail.id){\n          //         flag = true;\n          // }\n\n        });\n\n        if (flag === false) {\n          productsInLocalStorage.push(productDetails);\n          swal(\"Added to cart\");\n          console.log(\"productsInLocalStorage\", productsInLocalStorage.length); // openSnackbar('Added to cart')\n          // console.log(\"Modified myArray productsInLocalStorage: \",productsInLocalStorage);\n        } else {\n          alert(\"Already in cart\");\n        }\n\n        await localStorage.setItem(\"cartProducts\", JSON.stringify(productsInLocalStorage));\n      } else {\n        console.log(\"productDetails\", productDetails);\n        await localStorage.setItem(\"cartProducts\", JSON.stringify(productDetails));\n      }\n    };\n\n    this.state = {\n      cartProduct: 0\n    };\n  }\n\n  componentDidMount() {\n    const productData = this.props;\n    const productDetail = productData.ProductData; // console.log(\"id==\",productDetail);\n\n    console.log(\"id==\", productDetail); // localStorage.clear();\n  }\n\n  render() {\n    const {\n      openSnackbar,\n      closeSnackbar\n    } = this.props;\n    return React.createElement(\"button\", {\n      className: \"ProductCardwrapperButton\",\n      style: {\n        marginLeft: this.props.m,\n        backgroundColor: this.props.color,\n        width: this.props.width,\n        height: this.props.height\n      },\n      onClick: this.handleCart,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }, \"Add To Cart\");\n  }\n\n}","map":{"version":3,"sources":["/home/neosoft/NeoStore/src/components/AddToCart.js"],"names":["React","withSnackbar","swal","AddToCart","Component","constructor","handleCart","e","productData","props","productDetail","ProductData","console","log","productDetails","quantity","openSnackbar","closeSnackbar","myArray","localStorage","getItem","productsInLocalStorage","flag","JSON","parse","map","val","i","x","id","z","a","push","length","alert","setItem","stringify","state","cartProduct","componentDidMount","render","marginLeft","m","backgroundColor","color","width","height"],"mappings":"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","sourcesContent":["import React from \"react\";\n\nimport { withSnackbar } from \"react-simple-snackbar\";\nimport swal from \"sweetalert\";\n\nexport default class AddToCart extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      cartProduct: 0,\n    };\n  }\n  componentDidMount() {\n    const productData = this.props;\n    const productDetail = productData.ProductData;\n\n    // console.log(\"id==\",productDetail);\n    console.log(\"id==\", productDetail);\n\n    // localStorage.clear();\n  }\n  handleCart = async (e) => {\n    const productData = this.props;\n    const productDetail = productData.ProductData;\n\n    console.log(\"id==\", productDetail);\n    const productDetails = [\n      {\n        productDetail: productDetail,\n        quantity: 1,\n      },\n    ];\n    const { openSnackbar, closeSnackbar } = this.props;\n    console.log(\"productdetails====\");\n    const myArray = await localStorage.getItem(\"cartProducts\");\n    // console.log(\"myArray: \",JSON.parse(myArray));\n    let productsInLocalStorage,\n      flag = false;\n\n    if (myArray !== null) {\n      productsInLocalStorage = JSON.parse(myArray);\n      console.log(\"productsInLocalStorage\", productsInLocalStorage);\n\n      productsInLocalStorage.map((val, i) => {\n        let x = val;\n        // console.log(\"x==\",x.productDetail.id)\n\n        if (i === 0) {\n          console.log(\"x\");\n          console.log(\"x==\", x[0].productDetail.id);\n          let z = x[0].productDetail.id;\n          console.log(\"productDetails\", productDetails);\n          if (z === productDetails[i].productDetail.id) flag = true;\n        } else {\n          console.log(\"x in else==\", x[0].productDetail.id);\n          let a = x[0].productDetail.id;\n          console.log(\n            \"in else productDetails\",\n            productDetails[0].productDetail.id\n          );\n          if (a === productDetails[0].productDetail.id) {\n            flag = true;\n          }\n        }\n        // if(x === productDetails.productDetail.id){\n        //         flag = true;\n\n        // }\n      });\n\n      if (flag === false) {\n        productsInLocalStorage.push(productDetails);\n        swal(\"Added to cart\");\n        console.log(\"productsInLocalStorage\", productsInLocalStorage.length);\n        // openSnackbar('Added to cart')\n        // console.log(\"Modified myArray productsInLocalStorage: \",productsInLocalStorage);\n      } else {\n        alert(\"Already in cart\");\n      }\n      await localStorage.setItem(\n        \"cartProducts\",\n        JSON.stringify(productsInLocalStorage)\n      );\n    } else {\n      console.log(\"productDetails\", productDetails);\n      await localStorage.setItem(\n        \"cartProducts\",\n        JSON.stringify(productDetails)\n      );\n    }\n  };\n  render() {\n    const { openSnackbar, closeSnackbar } = this.props;\n\n    return (\n      <button\n        className=\"ProductCardwrapperButton\"\n        style={{\n          marginLeft: this.props.m,\n          backgroundColor: this.props.color,\n          width: this.props.width,\n          height: this.props.height,\n        }}\n        onClick={this.handleCart}\n      >\n        Add To Cart\n      </button>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}