{"ast":null,"code":"import * as actionTypes from \"../lib/constants/actionTypes\"; // import {BASE_URL} from '../constants/BaseURL'\n// import axios from 'axios'\n\nimport swal from \"sweetalert\";\n\nconst getcartdataSuccess = data => ({\n  type: actionTypes.GET_CART_DATA,\n  payload: data\n});\n\nexport function getcartdata(productDetails) {\n  console.log(\"productDetails to add in localstorage\", productDetails);\n  return function (dispatch) {\n    const myArray = localStorage.getItem(\"cartProducts\");\n    console.log(\"myArray: \", JSON.parse(myArray));\n    let productsInLocalStorage,\n        flag = false;\n\n    if (myArray !== null && myArray !== '') {\n      productsInLocalStorage = JSON.parse(myArray);\n      console.log(\"in cart data action===productsInLocalStorage\", productsInLocalStorage);\n      productsInLocalStorage.map((val, i) => {\n        let x = val;\n        console.log(\"x==in cart data action\", x);\n        console.log(\"x---\", x);\n\n        if (i === 0) {\n          console.log(\"x\"); // console.log(\"x==\", x[0].productDetail.id);\n\n          let z = x.productDetail.id;\n          console.log(\"productDetails\", productDetails);\n          if (z === productDetails.productDetail.id) flag = true;\n        } // else {\n        //   console.log(\"x in else==\", x.productDetail.id);\n        //   let a = x[0].productDetail.id;\n        //   console.log(\n        //     \"in else productDetails\",\n        //     productDetails[0].productDetail.id\n        //   );\n        //   if (a === productDetails[0].productDetail.id) {\n        //     flag = true;\n        //   }\n        // }\n        // if(x === productDetails.productDetail.id){\n        //         flag = true;\n        // }\n\n      });\n\n      if (flag === false) {\n        productsInLocalStorage.push(productDetails);\n        swal(\"Added to cart\");\n        console.log(\"productsInLocalStorage\", productsInLocalStorage.length); // openSnackbar('Added to cart')\n        // console.log(\"Modified myArray productsInLocalStorage: \",productsInLocalStorage);\n      } else {\n        swal(\"Already in cart\");\n      }\n\n      localStorage.setItem(\"cartProducts\", JSON.stringify(productsInLocalStorage));\n      console.log(\"cartdata in localstorage==]]\", JSON.parse(localStorage.getItem('cartProducts')));\n    } else {\n      console.log(\"productDetails\", productDetails);\n      localStorage.setItem(\"cartProducts\", JSON.stringify(productDetails));\n      console.log(\"cartProducts in action\", JSON.parse(localStorage.getItem('cartProducts')));\n    }\n\n    return dispatch(getcartdataSuccess(productsInLocalStorage));\n  };\n}","map":{"version":3,"sources":["/home/neosoft/NeoStore/src/actions/cartDataAction.js"],"names":["actionTypes","swal","getcartdataSuccess","data","type","GET_CART_DATA","payload","getcartdata","productDetails","console","log","dispatch","myArray","localStorage","getItem","JSON","parse","productsInLocalStorage","flag","map","val","i","x","z","productDetail","id","push","length","setItem","stringify"],"mappings":"AAAA,OAAO,KAAKA,WAAZ,MAA6B,8BAA7B,C,CACA;AAEA;;AACA,OAAOC,IAAP,MAAiB,YAAjB;;AAEA,MAAMC,kBAAkB,GAAIC,IAAD,KAAW;AACpCC,EAAAA,IAAI,EAAEJ,WAAW,CAACK,aADkB;AAEpCC,EAAAA,OAAO,EAAEH;AAF2B,CAAX,CAA3B;;AAKA,OAAO,SAASI,WAAT,CAAqBC,cAArB,EAAqC;AAC1CC,EAAAA,OAAO,CAACC,GAAR,CAAY,uCAAZ,EAAoDF,cAApD;AACA,SAAO,UAAUG,QAAV,EAAoB;AACzB,UAAMC,OAAO,GAAGC,YAAY,CAACC,OAAb,CAAqB,cAArB,CAAhB;AACAL,IAAAA,OAAO,CAACC,GAAR,CAAY,WAAZ,EAAyBK,IAAI,CAACC,KAAL,CAAWJ,OAAX,CAAzB;AACA,QAAIK,sBAAJ;AAAA,QACEC,IAAI,GAAG,KADT;;AAGA,QAAIN,OAAO,KAAK,IAAZ,IAAkBA,OAAO,KAAG,EAAhC,EAAoC;AAClCK,MAAAA,sBAAsB,GAAGF,IAAI,CAACC,KAAL,CAAWJ,OAAX,CAAzB;AACAH,MAAAA,OAAO,CAACC,GAAR,CACE,8CADF,EAEEO,sBAFF;AAKAA,MAAAA,sBAAsB,CAACE,GAAvB,CAA2B,CAACC,GAAD,EAAMC,CAAN,KAAY;AACrC,YAAIC,CAAC,GAAGF,GAAR;AACAX,QAAAA,OAAO,CAACC,GAAR,CAAY,wBAAZ,EAAsCY,CAAtC;AACAb,QAAAA,OAAO,CAACC,GAAR,CAAY,MAAZ,EAAoBY,CAApB;;AACA,YAAID,CAAC,KAAK,CAAV,EAAa;AACXZ,UAAAA,OAAO,CAACC,GAAR,CAAY,GAAZ,EADW,CAEX;;AACA,cAAIa,CAAC,GAAGD,CAAC,CAACE,aAAF,CAAgBC,EAAxB;AACAhB,UAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ,EAA8BF,cAA9B;AACA,cAAIe,CAAC,KAAKf,cAAc,CAACgB,aAAf,CAA6BC,EAAvC,EAA2CP,IAAI,GAAG,IAAP;AAC5C,SAVoC,CAWrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;;AACD,OA1BD;;AA4BA,UAAIA,IAAI,KAAK,KAAb,EAAoB;AAClBD,QAAAA,sBAAsB,CAACS,IAAvB,CAA4BlB,cAA5B;AACAP,QAAAA,IAAI,CAAC,eAAD,CAAJ;AACAQ,QAAAA,OAAO,CAACC,GAAR,CAAY,wBAAZ,EAAsCO,sBAAsB,CAACU,MAA7D,EAHkB,CAIlB;AACA;AACD,OAND,MAMO;AACL1B,QAAAA,IAAI,CAAC,iBAAD,CAAJ;AACD;;AACDY,MAAAA,YAAY,CAACe,OAAb,CACE,cADF,EAEEb,IAAI,CAACc,SAAL,CAAeZ,sBAAf,CAFF;AAIAR,MAAAA,OAAO,CAACC,GAAR,CAAY,8BAAZ,EAA2CK,IAAI,CAACC,KAAL,CAAWH,YAAY,CAACC,OAAb,CAAqB,cAArB,CAAX,CAA3C;AACD,KAjDD,MAiDO;AACLL,MAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ,EAA8BF,cAA9B;AACAK,MAAAA,YAAY,CAACe,OAAb,CAAqB,cAArB,EAAqCb,IAAI,CAACc,SAAL,CAAerB,cAAf,CAArC;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAY,wBAAZ,EAAqCK,IAAI,CAACC,KAAL,CAAWH,YAAY,CAACC,OAAb,CAAqB,cAArB,CAAX,CAArC;AACD;;AACD,WAAOH,QAAQ,CAACT,kBAAkB,CAACe,sBAAD,CAAnB,CAAf;AACD,GA7DD;AA8DD","sourcesContent":["import * as actionTypes from \"../lib/constants/actionTypes\";\n// import {BASE_URL} from '../constants/BaseURL'\n\n// import axios from 'axios'\nimport swal from \"sweetalert\";\n\nconst getcartdataSuccess = (data) => ({\n  type: actionTypes.GET_CART_DATA,\n  payload: data,\n});\n\nexport function getcartdata(productDetails) {\n  console.log(\"productDetails to add in localstorage\",productDetails);\n  return function (dispatch) {\n    const myArray = localStorage.getItem(\"cartProducts\");\n    console.log(\"myArray: \", JSON.parse(myArray));\n    let productsInLocalStorage,\n      flag = false;\n\n    if (myArray !== null&&myArray!=='') {\n      productsInLocalStorage = JSON.parse(myArray);\n      console.log(\n        \"in cart data action===productsInLocalStorage\",\n        productsInLocalStorage\n      );\n\n      productsInLocalStorage.map((val, i) => {\n        let x = val;\n        console.log(\"x==in cart data action\", x);\n        console.log(\"x---\", x);\n        if (i === 0) {\n          console.log(\"x\");\n          // console.log(\"x==\", x[0].productDetail.id);\n          let z = x.productDetail.id;\n          console.log(\"productDetails\", productDetails);\n          if (z === productDetails.productDetail.id) flag = true;\n        } \n        // else {\n        //   console.log(\"x in else==\", x.productDetail.id);\n        //   let a = x[0].productDetail.id;\n        //   console.log(\n        //     \"in else productDetails\",\n        //     productDetails[0].productDetail.id\n        //   );\n        //   if (a === productDetails[0].productDetail.id) {\n        //     flag = true;\n        //   }\n        // }\n        // if(x === productDetails.productDetail.id){\n        //         flag = true;\n\n        // }\n      });\n\n      if (flag === false) {\n        productsInLocalStorage.push(productDetails);\n        swal(\"Added to cart\");\n        console.log(\"productsInLocalStorage\", productsInLocalStorage.length);\n        // openSnackbar('Added to cart')\n        // console.log(\"Modified myArray productsInLocalStorage: \",productsInLocalStorage);\n      } else {\n        swal(\"Already in cart\");\n      }\n      localStorage.setItem(\n        \"cartProducts\",\n        JSON.stringify(productsInLocalStorage)\n      );\n      console.log(\"cartdata in localstorage==]]\",JSON.parse(localStorage.getItem('cartProducts')));\n    } else {\n      console.log(\"productDetails\", productDetails);\n      localStorage.setItem(\"cartProducts\", JSON.stringify(productDetails));\n      console.log(\"cartProducts in action\",JSON.parse(localStorage.getItem('cartProducts')));\n    }\n    return dispatch(getcartdataSuccess(productsInLocalStorage));\n  };\n}\n"]},"metadata":{},"sourceType":"module"}